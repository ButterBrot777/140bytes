{"files":{"annotated.js":{"type":"application/javascript","content":"function f(a, b)\n{\n  return b                                                //if called from the replace function\n    ? b.fontcolor('#' +                                   //surround fetched string by a <font> tag\n      '00000A0A00AAA00A0AFA0AAA55555F5F55FFF55F5FFF5FFF'  //lookup table\n      .substr(('0x' + a[1]) * 3, 3))                      //convert hex color code to dec\n    : a.replace(/&[\\dA-F]([^&]+)/gi, f)                   //fetch color code followed by non-ampersands\n}","language":"JavaScript","raw_url":"https://gist.github.com/raw/2392672/76e4dea7c396acd1685071f2de38b3f43ba2d2d7/annotated.js","size":483,"filename":"annotated.js"},"LICENSE.txt":{"type":"text/plain","content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2012 Thiemo Mättig <http://maettig.com>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.","language":"Text","raw_url":"https://gist.github.com/raw/2392672/a6d76e1bae288ac7eb279b32326e6c03ec31ad24/LICENSE.txt","size":488,"filename":"LICENSE.txt"},"README.md":{"type":"text/plain","content":"You can use [color codes](http://www.minecraftwiki.net/wiki/Classic_server_protocol#Color_Codes) in the Minecraft chat. I tried to create a parser in [140byt.es](http://140byt.es) that converts a Minecraft chat line to HTML. I found two possible solutions, both 150 bytes. One with a lookup table and another with an algorithmic aproach (which I think is very cool).\n\nHere are some things I learned while golfing this down:\n\n* Do you know `String.slice()` is the new `String.substring()`? It's shorter and more reliable. Be aware of [the few different behaviors](http://stackoverflow.com/questions/2243824/what-is-the-difference-between-string-slice-and-string-substring-in-javascript).\n* To convert a hexadecimal string to a number (“hex2dec”) you can use `parseInt('FF', 16)` or `eval('0x' + 'FF')` or `('0x' + 'FF') * 1` or `'0x' + 'FF' | 0`. Take care of the [operator precedence](https://developer.mozilla.org/en/JavaScript/Reference/Operators/Operator_Precedence).\n* The eight main colors are ordered like they are binary numbers: 000<sub>2</sub>, 001<sub>2</sub>, 010<sub>2</sub>, 011<sub>2</sub>, 100<sub>2</sub>, 101<sub>2</sub>, 110<sub>2</sub>, 111<sub>2</sub>. Thats why I can do this: 6<sub>16</sub> → 110<sub>2</sub> → convert to a binary and parse as a hexadecimal string → 110<sub>16</sub> → multiply with A<sub>16</sub> → AA0<sub>16</sub> → add 555<sub>16</sub> → FF5<sub>16</sub>.\n* The most reliable solution would be to use `/&[\\dA-F].*/i` in a loop. Solutions with `[^&]` stop coloring on additional ampersands (I can live with this). Solutions with `&.` either fail (not acceptable) or go black for invalid colors (may be acceptable on a bright background).\n* `String.fontcolor()` is [a fascinating relic from the 90s](http://blip.tv/jsconfeu/jed-schmidt-140byt-es-building-a-web-framework-one-tweet-at-a-time-5663160). You should never use it. ;-)","language":"Markdown","raw_url":"https://gist.github.com/raw/2392672/bb2f8dd70b6667f4d98801f42dd9275f73a04bb6/README.md","size":1888,"filename":"README.md"},"index.js":{"type":"application/javascript","content":"function f(a,b){return b?b.fontcolor('#'+'00000A0A00AAA00A0AFA0AAA55555F5F55FFF55F5FFF5FFF'.substr(('0x'+a[1])*3,3)):a.replace(/&[\\dA-F]([^&]+)/gi,f)}","language":"JavaScript","raw_url":"https://gist.github.com/raw/2392672/c3ee8939b6d5d19147eeb5b5925e671b5a817db5/index.js","size":150,"filename":"index.js"},"test.html":{"type":"text/html","content":"<!DOCTYPE html>\n<style type=\"text/css\">\npre { background: #222; color: #FFF; display: inline-block; padding: 2em; }\n</style>\n<script type=\"text/javascript\">\nvar decodeMinecraftColors = function f(a,b){return b?b.fontcolor('#'+'00000A0A00AAA00A0AFA0AAA55555F5F55FFF55F5FFF5FFF'.substr(('0x'+a[1])*3,3)):a.replace(/&[\\dA-F]([^&]+)/gi,f)}\n// My second solution, also 150 bytes:\n//function f(a,b,c){return c?c.fontcolor('#'+(('0x'+('0x1'+b|0).toString(2))*10+(b>'7')*1365).toString(16).slice(2)):a.replace(/&([\\dA-F])([^&]+)/gi,f)}\nvar test = '!0000!100A!20A0!30AA!4A00!5A0A!6FA0 (or #AA0)!7AAA!8555!955F!a5F5!b5FF!cF55!dF5F!eFF5 &this should be yellow (or white)!fFFF &this should be white';\ntest = test.replace(/!(.)((...)[^!]*)/g, '&$1<span style=\"background:#$3\">NOT</span> $1 should become #$2\\n');\ntest = decodeMinecraftColors(test);\ndocument.write('<pre>' + test + '</pre>');\n</script>","language":"HTML","raw_url":"https://gist.github.com/raw/2392672/bef34536b7495165c7bbe2115949f1968c177e5a/test.html","size":888,"filename":"test.html"},"package.json":{"type":"application/json","content":"{\n  \"name\": \"decodeMinecraftColors\",\n\n  \"description\": \"Converts a Minecraft chat line to HTML.\",\n\n  \"keywords\": [\n    \"color\",\n    \"fontcolor\",\n    \"html\",\n    \"parse\"\n  ]\n}","language":"JSON","raw_url":"https://gist.github.com/raw/2392672/e6549f87f49741212966a3ef12d16e367c26d3cc/package.json","size":174,"filename":"package.json"}},"html_url":"https://gist.github.com/2392672","git_push_url":"git@gist.github.com:2392672.git","user":{"url":"https://api.github.com/users/maettig","gravatar_id":"c778099c2b124e5c230324df2b2336ab","avatar_url":"https://secure.gravatar.com/avatar/c778099c2b124e5c230324df2b2336ab?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":1177987,"login":"maettig"},"description":"decodeMinecraftColors in 140byte.es","created_at":"2012-04-15T13:04:34Z","fork_of":{"files":{"annotated.js":{"type":"application/javascript","language":"JavaScript","raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","size":396,"filename":"annotated.js"},"LICENSE.txt":{"type":"text/plain","language":"Text","raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","size":483,"filename":"LICENSE.txt"},"README.md":{"type":"text/plain","language":"Markdown","raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","size":1457,"filename":"README.md"},"index.js":{"type":"application/javascript","language":"JavaScript","raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","size":140,"filename":"index.js"},"test.html":{"type":"text/html","language":"HTML","raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","size":393,"filename":"test.html"},"package.json":{"type":"application/json","language":"JSON","raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","size":241,"filename":"package.json"}},"html_url":"https://gist.github.com/962807","git_push_url":"git@gist.github.com:962807.git","user":{"url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","created_at":"2011-05-09T16:13:35Z","public":true,"url":"https://api.github.com/gists/962807","updated_at":"2011-05-18T12:15:41Z","comments":53,"id":"962807","git_pull_url":"git://gist.github.com/962807.git"},"history":[{"user":{"url":"https://api.github.com/users/maettig","gravatar_id":"c778099c2b124e5c230324df2b2336ab","avatar_url":"https://secure.gravatar.com/avatar/c778099c2b124e5c230324df2b2336ab?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":1177987,"login":"maettig"},"url":"https://api.github.com/gists/2392672/1a0e752b9c94c8f9286d01f34908cccf2c5cf8eb","change_status":{"additions":34,"total":93,"deletions":59},"committed_at":"2012-04-15T13:23:15Z","version":"1a0e752b9c94c8f9286d01f34908cccf2c5cf8eb"},{"user":{"url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"url":"https://api.github.com/gists/2392672/96ff24cc4f871061134de4188fa24cf4b53d3986","change_status":{"additions":1,"total":2,"deletions":1},"committed_at":"2011-07-28T06:44:45Z","version":"96ff24cc4f871061134de4188fa24cf4b53d3986"},{"user":{"url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"url":"https://api.github.com/gists/2392672/1e1c7df97b55fe8f1543433a83d0e76a4a575055","change_status":{"additions":2,"total":4,"deletions":2},"committed_at":"2011-07-28T06:44:14Z","version":"1e1c7df97b55fe8f1543433a83d0e76a4a575055"},{"user":{"url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"url":"https://api.github.com/gists/2392672/97b4f64048ad388d12e0473b416d7e4893391f50","change_status":{"additions":5,"total":12,"deletions":7},"committed_at":"2011-06-01T13:42:07Z","version":"97b4f64048ad388d12e0473b416d7e4893391f50"},{"user":{"url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"url":"https://api.github.com/gists/2392672/df573b0569cc36550aa73fa9244286f24823fbb9","change_status":{"additions":1,"total":1,"deletions":0},"committed_at":"2011-06-01T12:27:17Z","version":"df573b0569cc36550aa73fa9244286f24823fbb9"},{"user":{"url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"url":"https://api.github.com/gists/2392672/2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","change_status":{"additions":1,"total":2,"deletions":1},"committed_at":"2011-05-31T22:34:03Z","version":"2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca"},{"user":{"url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"url":"https://api.github.com/gists/2392672/cb7ce28cbcfb095a319f290d0632332f22d90c72","change_status":{"additions":13,"total":13,"deletions":0},"committed_at":"2011-05-31T18:15:34Z","version":"cb7ce28cbcfb095a319f290d0632332f22d90c72"},{"user":{"url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"url":"https://api.github.com/gists/2392672/a1fcbcb83329294f8afe9b71c132790e0c1f7d8b","change_status":{"additions":17,"total":36,"deletions":19},"committed_at":"2011-05-31T18:10:31Z","version":"a1fcbcb83329294f8afe9b71c132790e0c1f7d8b"},{"user":{"url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"url":"https://api.github.com/gists/2392672/e69917d0323336a4cb552f60484b73c09eb538ee","change_status":{"additions":6,"total":12,"deletions":6},"committed_at":"2011-05-26T16:25:15Z","version":"e69917d0323336a4cb552f60484b73c09eb538ee"},{"user":{"url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"url":"https://api.github.com/gists/2392672/a811e92efd1c0ae72be6dc9a95c4fcf1598134dd","change_status":{"additions":8,"total":16,"deletions":8},"committed_at":"2011-05-25T11:57:53Z","version":"a811e92efd1c0ae72be6dc9a95c4fcf1598134dd"}],"public":true,"url":"https://api.github.com/gists/2392672","forks":[],"updated_at":"2012-04-15T13:23:16Z","comments":3,"id":"2392672","git_pull_url":"git://gist.github.com/2392672.git"}