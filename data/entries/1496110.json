{"description":"File system tree builder - 119 bytes","created_at":"2011-12-19T08:36:49Z","files":{"annotated.js":{"content":"function (\npaths,  // {String[]} list of absolute paths\nparts,  // path parts\ntarget, // pointer to current subtree\nfile,   // path item\nfs      // result fs tree\n) {\n    // init fs, reset pointer, get item\n    for (fs = {};target = fs,parts = paths.pop();) {\n        parts = ('#' + parts).split('/'); // split path\n        while (parts[0]) { // while !eopath\n            target = target[file = parts.shift()]   // set current pointer to file\n                   = parts[0] ? target[file] || {}  // !last -> its a dir\n                              : file;               // else -> file\n        }\n    }\n    return fs;\n}","type":"application/javascript","raw_url":"https://gist.github.com/raw/1496110/05dd35c34503afae43d3467e280b8730111da64a/annotated.js","size":617,"filename":"annotated.js","language":"JavaScript"},"LICENSE.txt":{"content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2011 Mikhail Davydov\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.","type":"text/plain","raw_url":"https://gist.github.com/raw/1496110/09a1d3cf5e27c8f8ff070dd33a8a14c847674b8a/LICENSE.txt","size":468,"filename":"LICENSE.txt","language":"Text"},"README.md":{"content":"File system tree builder\n========================\n\n1. all paths must be absolute\n2. last item in path is file\n\n```javascript\nvar input = ['/a/b/.git/config', '/a/x/d/x.js', '/a/x/d/x/ololo.xml'];\n\nvar output = {\n  \"#\": {\n    \"a\": {\n      \"x\": {\n        \"d\": {\n          \"x\": {\n            \"ololo.xml\": \"ololo.xml\"\n          },\n          \"x.js\": \"x.js\"\n        }\n      },\n      \"b\": {\n        \".git\": {\n          \"config\": \"config\"\n        }\n      }\n    }\n  }\n}\n```\n\ndemo: http://jsfiddle.net/bnhyF/","type":"text/plain","raw_url":"https://gist.github.com/raw/1496110/be3fc25d474e716b1ce44b1dbac12c70f6fec82e/README.md","size":498,"filename":"README.md","language":"Markdown"},"index.js":{"content":"function(a,b,c,d,e){for(e={};c=e,b=a.pop();){b=(\"#\"+b).split(\"/\");while(b[0])c=c[d=b.shift()]=b[0]?c[d]||{}:d}return e}","type":"application/javascript","raw_url":"https://gist.github.com/raw/1496110/44a578b9a246b68436d514987043a2149b00e4dd/index.js","size":119,"filename":"index.js","language":"JavaScript"},"test.html":{"content":"<!DOCTYPE html> \n<title>Foo</title>\n<div>Expected value: <b>{\"#\":{\"a\":{\"x\":{\"d\":{\"x\":{\"ololo.xml\":\"ololo.xml\"},\"x.js\":\"x.js\"}},\"b\":{\".git\":{\"config\":\"config\"}}}}}</b></div>\n<div>Actual value: <b id=\"ret\"></b></div>\n<script>\n  var fs_tree = function(a,b,c,d,e){for(e={};c=e,b=a.pop();){b=(\"#\"+b).split(\"/\");while(b[0])c=c[d=b.shift()]=b[0]?c[d]||{}:d}return e};\n  var paths = ['/a/b/.git/config/', '/a/x/d/x.js', '/a/x/d/x/ololo.xml'];\n  document.getElementById('ret').innerHTML = JSON.stringify(fs_tree(paths));\n</script>","type":"text/html","raw_url":"https://gist.github.com/raw/1496110/f34d7c76025cc91fc2b0a8556cf9b1205f02d696/test.html","size":521,"filename":"test.html","language":"HTML"},"package.json":{"content":"{\n  \"name\": \"fs_tree\",\n\n  \"description\": \"File system tree builder\",\n\n  \"keywords\": [\n    \"fs\"\n  ]\n}","type":"application/json","raw_url":"https://gist.github.com/raw/1496110/940725094fc82f62f056ed862bb73ef8321a8fe8/package.json","size":100,"filename":"package.json","language":"JSON"}},"public":true,"user":{"avatar_url":"https://secure.gravatar.com/avatar/b827d6cfdfbcfce33700b0e6cc03e344?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"b827d6cfdfbcfce33700b0e6cc03e344","url":"https://api.github.com/users/azproduction","id":483865,"login":"azproduction"},"comments":0,"history":[{"committed_at":"2011-12-19T09:15:49Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/b827d6cfdfbcfce33700b0e6cc03e344?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"b827d6cfdfbcfce33700b0e6cc03e344","url":"https://api.github.com/users/azproduction","id":483865,"login":"azproduction"},"version":"cd34af8799cccff74717836fd8575995b106847b","url":"https://api.github.com/gists/1496110/cd34af8799cccff74717836fd8575995b106847b","change_status":{"additions":1,"deletions":1,"total":2}},{"committed_at":"2011-12-19T09:14:26Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/b827d6cfdfbcfce33700b0e6cc03e344?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"b827d6cfdfbcfce33700b0e6cc03e344","url":"https://api.github.com/users/azproduction","id":483865,"login":"azproduction"},"version":"22d46d0182080b2f90d46d6137959ebccb7f7c6f","url":"https://api.github.com/gists/1496110/22d46d0182080b2f90d46d6137959ebccb7f7c6f","change_status":{"additions":58,"deletions":58,"total":116}},{"committed_at":"2011-07-28T06:44:45Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"96ff24cc4f871061134de4188fa24cf4b53d3986","url":"https://api.github.com/gists/1496110/96ff24cc4f871061134de4188fa24cf4b53d3986","change_status":{"additions":1,"deletions":1,"total":2}},{"committed_at":"2011-07-28T06:44:14Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"1e1c7df97b55fe8f1543433a83d0e76a4a575055","url":"https://api.github.com/gists/1496110/1e1c7df97b55fe8f1543433a83d0e76a4a575055","change_status":{"additions":2,"deletions":2,"total":4}},{"committed_at":"2011-06-01T13:42:07Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"97b4f64048ad388d12e0473b416d7e4893391f50","url":"https://api.github.com/gists/1496110/97b4f64048ad388d12e0473b416d7e4893391f50","change_status":{"additions":5,"deletions":7,"total":12}},{"committed_at":"2011-06-01T12:27:17Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"df573b0569cc36550aa73fa9244286f24823fbb9","url":"https://api.github.com/gists/1496110/df573b0569cc36550aa73fa9244286f24823fbb9","change_status":{"additions":1,"deletions":0,"total":1}},{"committed_at":"2011-05-31T22:34:03Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","url":"https://api.github.com/gists/1496110/2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","change_status":{"additions":1,"deletions":1,"total":2}},{"committed_at":"2011-05-31T18:15:34Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"cb7ce28cbcfb095a319f290d0632332f22d90c72","url":"https://api.github.com/gists/1496110/cb7ce28cbcfb095a319f290d0632332f22d90c72","change_status":{"additions":13,"deletions":0,"total":13}},{"committed_at":"2011-05-31T18:10:31Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"a1fcbcb83329294f8afe9b71c132790e0c1f7d8b","url":"https://api.github.com/gists/1496110/a1fcbcb83329294f8afe9b71c132790e0c1f7d8b","change_status":{"additions":17,"deletions":19,"total":36}},{"committed_at":"2011-05-26T16:25:15Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"e69917d0323336a4cb552f60484b73c09eb538ee","url":"https://api.github.com/gists/1496110/e69917d0323336a4cb552f60484b73c09eb538ee","change_status":{"additions":6,"deletions":6,"total":12}}],"git_pull_url":"git://gist.github.com/1496110.git","updated_at":"2011-12-19T09:14:26Z","forks":[],"git_push_url":"git@gist.github.com:1496110.git","id":"1496110","url":"https://api.github.com/gists/1496110","fork_of":{"description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","created_at":"2011-05-09T16:13:35Z","files":{"annotated.js":{"type":"application/javascript","raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","size":396,"filename":"annotated.js","language":"JavaScript"},"LICENSE.txt":{"type":"text/plain","raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","size":483,"filename":"LICENSE.txt","language":"Text"},"README.md":{"type":"text/plain","raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","size":1457,"filename":"README.md","language":"Markdown"},"index.js":{"type":"application/javascript","raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","size":140,"filename":"index.js","language":"JavaScript"},"test.html":{"type":"text/html","raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","size":393,"filename":"test.html","language":"HTML"},"package.json":{"type":"application/json","raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","size":241,"filename":"package.json","language":"JSON"}},"public":true,"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"comments":51,"git_pull_url":"git://gist.github.com/962807.git","updated_at":"2011-05-18T12:15:41Z","git_push_url":"git@gist.github.com:962807.git","id":"962807","url":"https://api.github.com/gists/962807","html_url":"https://gist.github.com/962807"},"html_url":"https://gist.github.com/1496110"}