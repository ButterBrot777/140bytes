{"url":"https://api.github.com/gists/1730861","created_at":"2012-02-03T16:02:56Z","description":"isValidEan13 in 140byt.es","public":true,"html_url":"https://gist.github.com/1730861","git_pull_url":"git://gist.github.com/1730861.git","files":{"annotated.js":{"type":"application/javascript","content":"function(a, b, c)\n{\n  c = 0;\n  for (b in a = ('' + a)          //force `a` to be a string\n    .split(/\\D*/))                //split into digits, remove all non-digits\n    c += (b * 2 & 2 | 1) * a[b];  //multiply current digit with 3, 1, 3, 1 and so on\n  return !(c % 10)                //must be zero\n}","size":302,"raw_url":"https://gist.github.com/raw/1730861/16293989f92ab745bf5eaeb3caf565dfe28327f6/annotated.js","filename":"annotated.js","language":"JavaScript"},"LICENSE.txt":{"type":"text/plain","content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2012 Thiemo MÃ¤ttig <http://maettig.com>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.","size":488,"raw_url":"https://gist.github.com/raw/1730861/a6d76e1bae288ac7eb279b32326e6c03ec31ad24/LICENSE.txt","filename":"LICENSE.txt","language":"Text"},"README.md":{"type":"text/plain","content":"The tiny JavaScript function `isValidEan13()` (83 bytes currently) returns true if a given [EAN-13](http://en.wikipedia.org/wiki/International_Article_Number_(EAN\\)) (International Article Number) or [ISBN-13](http://en.wikipedia.org/wiki/International_Standard_Book_Number) (International Standard Book Number) is valid. `formatEan13()` (125 bytes) calculates and appends the checksum (or replaces wrong checksums) and formats the number with spaces.\n\nBoth functions accept strings and numbers.\n\nThe core of both functions is the call `split(/\\D*/)`. The regular expression matches every sequence of non-digits including empty sequences. This splits the input into individual digits and removes all non-digits the same time.\n\n[Click here to run the test script](http://maettig.com/code/javascript/ean-isbn-validation-in-140byt.es.html).","size":837,"raw_url":"https://gist.github.com/raw/1730861/19ef1b1ddaebcd3c1c8e5b45ce5a29b4197fdb77/README.md","filename":"README.md","language":"Markdown"},"index.js":{"type":"application/javascript","content":"function(a,b,c){c=0;for(b in a=(''+a).split(/\\D*/))c+=(b*2&2|1)*a[b];return!(c%10)}","size":83,"raw_url":"https://gist.github.com/raw/1730861/8b417042e86167a0532d5c0c9316724ddac6181f/index.js","filename":"index.js","language":"JavaScript"},"test.html":{"type":"text/html","content":"<!DOCTYPE html>\n<ul>\n<script type=\"text/javascript\">\n// 83 bytes\nvar isValidEan13 = function(a, b, c)\n{\n  c = 0;\n  for (b in a = ('' + a)          //force `a` to be a string\n    .split(/\\D*/))                //split into digits, remove all non-digits\n    c += (b * 2 & 2 | 1) * a[b];  //multiply current digit with 3, 1, 3, 1 and so on\n  return !(c % 10)                //must be zero\n}\n// 125 bytes\nvar formatEan13 = function(a, b, c)\n{\n  for (a = ('' + a)               //force `a` to be a string\n    .split(/\\D*/),                //split into digits, remove all non-digits\n    b = 12,                       //start from the last digit (excluding the checksum)\n    c = 9;                        //this makes the final calculation easier, -1 also works\n    b--; )\n    c += (b * 2 & 2 | 1) * a[b];  //multiply current digit with 3, 1, 3, 1 and so on\n  a[0] += ' ';                    //format with spaces\n  a[6] += ' ';\n  a[12] = 9 - c % 10;             //append or replace checksum\n  return a.join('')               //array to string\n}\nvar tests = ['5 449000 096241', '5 901234 123457', 9783161484100, '5 449000 096242', 9783161484105];\nfor (var i = 0; i < tests.length; i++)\n{\n  var v = isValidEan13(tests[i]);\n  var e = formatEan13(tests[i]);\n  document.write('<li>EAN/ISBN ' + (v ? '<var>' + tests[i] + '</var>' : '<b>' + tests[i] + '</b>') +\n    ' (a ' + typeof tests[i] + ') is ' + (v ? '' : 'in') + 'valid. Should be <var>' + e + '</var>.');\n}\n</script>\n</ul>","size":1466,"raw_url":"https://gist.github.com/raw/1730861/d6fbe02a891c40259aed6d21f0e4b76243e2b45f/test.html","filename":"test.html","language":"HTML"},"package.json":{"type":"application/json","content":"{\n  \"name\": \"isValidEan13\",\n\n  \"description\": \"Validate EAN-13 and ISBN-13 Numbers.\",\n\n  \"keywords\": [\n    \"checksum\",\n    \"ean\",\n    \"isbn\",\n    \"validation\"\n  ]\n}","size":164,"raw_url":"https://gist.github.com/raw/1730861/4a6d4315a8f92911492133ca85394fb1b081d083/package.json","filename":"package.json","language":"JSON"}},"git_push_url":"git@gist.github.com:1730861.git","history":[{"url":"https://api.github.com/gists/1730861/59f754865e137573a521234fe453743fff75439a","version":"59f754865e137573a521234fe453743fff75439a","committed_at":"2012-02-03T16:04:22Z","change_status":{"additions":55,"deletions":59,"total":114},"user":{"url":"https://api.github.com/users/maettig","avatar_url":"https://secure.gravatar.com/avatar/c778099c2b124e5c230324df2b2336ab?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"maettig","gravatar_id":"c778099c2b124e5c230324df2b2336ab","id":1177987}},{"url":"https://api.github.com/gists/1730861/96ff24cc4f871061134de4188fa24cf4b53d3986","version":"96ff24cc4f871061134de4188fa24cf4b53d3986","committed_at":"2011-07-28T06:44:45Z","change_status":{"additions":1,"deletions":1,"total":2},"user":{"url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","id":777161}},{"url":"https://api.github.com/gists/1730861/1e1c7df97b55fe8f1543433a83d0e76a4a575055","version":"1e1c7df97b55fe8f1543433a83d0e76a4a575055","committed_at":"2011-07-28T06:44:14Z","change_status":{"additions":2,"deletions":2,"total":4},"user":{"url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","id":777161}},{"url":"https://api.github.com/gists/1730861/97b4f64048ad388d12e0473b416d7e4893391f50","version":"97b4f64048ad388d12e0473b416d7e4893391f50","committed_at":"2011-06-01T13:42:07Z","change_status":{"additions":5,"deletions":7,"total":12},"user":{"url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","id":777161}},{"url":"https://api.github.com/gists/1730861/df573b0569cc36550aa73fa9244286f24823fbb9","version":"df573b0569cc36550aa73fa9244286f24823fbb9","committed_at":"2011-06-01T12:27:17Z","change_status":{"additions":1,"deletions":0,"total":1},"user":{"url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","id":777161}},{"url":"https://api.github.com/gists/1730861/2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","version":"2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","committed_at":"2011-05-31T22:34:03Z","change_status":{"additions":1,"deletions":1,"total":2},"user":{"url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","id":777161}},{"url":"https://api.github.com/gists/1730861/cb7ce28cbcfb095a319f290d0632332f22d90c72","version":"cb7ce28cbcfb095a319f290d0632332f22d90c72","committed_at":"2011-05-31T18:15:34Z","change_status":{"additions":13,"deletions":0,"total":13},"user":{"url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","id":777161}},{"url":"https://api.github.com/gists/1730861/a1fcbcb83329294f8afe9b71c132790e0c1f7d8b","version":"a1fcbcb83329294f8afe9b71c132790e0c1f7d8b","committed_at":"2011-05-31T18:10:31Z","change_status":{"additions":17,"deletions":19,"total":36},"user":{"url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","id":777161}},{"url":"https://api.github.com/gists/1730861/e69917d0323336a4cb552f60484b73c09eb538ee","version":"e69917d0323336a4cb552f60484b73c09eb538ee","committed_at":"2011-05-26T16:25:15Z","change_status":{"additions":6,"deletions":6,"total":12},"user":{"url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","id":777161}},{"url":"https://api.github.com/gists/1730861/a811e92efd1c0ae72be6dc9a95c4fcf1598134dd","version":"a811e92efd1c0ae72be6dc9a95c4fcf1598134dd","committed_at":"2011-05-25T11:57:53Z","change_status":{"additions":8,"deletions":8,"total":16},"user":{"url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","id":777161}}],"fork_of":{"url":"https://api.github.com/gists/962807","created_at":"2011-05-09T16:13:35Z","description":"140byt.es -- Click ââ fork ââ to play!","public":true,"html_url":"https://gist.github.com/962807","git_pull_url":"git://gist.github.com/962807.git","files":{"annotated.js":{"type":"application/javascript","size":396,"raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","filename":"annotated.js","language":"JavaScript"},"LICENSE.txt":{"type":"text/plain","size":483,"raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","filename":"LICENSE.txt","language":"Text"},"README.md":{"type":"text/plain","size":1457,"raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","filename":"README.md","language":"Markdown"},"index.js":{"type":"application/javascript","size":140,"raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","filename":"index.js","language":"JavaScript"},"test.html":{"type":"text/html","size":393,"raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","filename":"test.html","language":"HTML"},"package.json":{"type":"application/json","size":241,"raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","filename":"package.json","language":"JSON"}},"git_push_url":"git@gist.github.com:962807.git","comments":51,"updated_at":"2011-05-18T12:15:41Z","id":"962807","user":{"url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","id":777161}},"comments":5,"updated_at":"2012-02-07T21:29:19Z","forks":[],"id":"1730861","user":{"url":"https://api.github.com/users/maettig","avatar_url":"https://secure.gravatar.com/avatar/c778099c2b124e5c230324df2b2336ab?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"maettig","gravatar_id":"c778099c2b124e5c230324df2b2336ab","id":1177987}}