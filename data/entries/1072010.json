{"fork_of":{"files":{"annotated.js":{"raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","size":396,"filename":"annotated.js"},"LICENSE.txt":{"raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","size":483,"filename":"LICENSE.txt"},"README.md":{"raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","size":1457,"filename":"README.md"},"index.js":{"raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","size":140,"filename":"index.js"},"test.html":{"raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","size":393,"filename":"test.html"},"package.json":{"raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","size":241,"filename":"package.json"}},"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/962807","description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","public":true,"comments":45,"html_url":"https://gist.github.com/962807","git_pull_url":"git://gist.github.com/962807.git","git_push_url":"git@gist.github.com:962807.git","id":"962807","updated_at":"2011-05-18T12:15:41Z","created_at":"2011-05-09T16:13:35Z"},"forks":[],"files":{"annotated.js":{"raw_url":"https://gist.github.com/raw/1072010/30fc6c44b1ba30f5aef1e9b9debbd76876443948/annotated.js","content":"function(\n\ts, // string, Morse-encoded.\n\t   //    Any char that is not \".\" or \"-\" is considered whitespace.\n\t   //    One whitespace is the letter separator. 2+ whitespaces are the word separator.\n\tt  // string, substitution \"table\" between char and morse code\n){\n\t// a single-replace code\n\treturn s.replace(\n\t\t// Regexp:\n\t\t//    Capture any sequence of \".\" and \"-\" (greedy) and store into 1st paren. Then get any char if possible. (Due to \"greedy\" quantificator \"any char\" is never \".\" or \"-\")\n\t\t//   ELSE\n\t\t//    Capture any sequence of chars that are not \".\" or \"-\" (greedy).\n\t\t// Dot inside square brackets may be unescaped.\n\t\t/([.-]+).?|([^.-]+)/g,\n\t\tfunction(\n\t\t\ti, // full captured string. Its value is useless.\n\t\t\ts, // \"string\". First captured paren that may contain only \".\" or \"-\".\n\t\t\tf  // \"fail\". Second captured string. Its certain value is useless, only string length. It's rather a flag.\n\t\t){\n\t\t\ti=1; // Assign 1 to unused `i` variable. It will be offset constructed from .'s and -'s.\n\t\t\t// If \"fail\" paren is captured it means that current char in original string is second whitespace, so this place is word boundary. Insert space here.\n\t\t\t// If not, get char from \"table\"-string at certain offset:\n\t\t\treturn f ? ' ' : t.charAt (\n\t\t\t\t// Eval statement:\n\t\t\t\teval(\n\t\t\t\t\t// Replace in \"local\" `s`...\n\t\t\t\t\ts.replace(\n\t\t\t\t\t\t/./g,  // .. any char (it is only \".\" or \"-\") with...\n\t\t\t\t\t\t// ... well.. with chunk of text. \"$&\" is the captured char.\n\t\t\t\t\t\t\"i=i*2-~$&1;\"\n\t\t\t\t\t\t// So if input is \"-\" the replacement is:\n\t\t\t\t\t\t//     i=i*2-~-1;\n\t\t\t\t\t\t// And if it is \".\":\n\t\t\t\t\t\t//     i=i*2-~.1;\n\t\t\t\t\t\t// \"~-1\" is eval'd to 0; \"~.1\" is eval'd to -1.\n\t\t\t\t\t)\n\t\t\t\t\t// Thus, a sequence of these chunks each time doubles the `i` and adds or not 1.\n\t\t\t\t\t// For example, if input string is \"--...\", `i` = (binary) 100111.\n\t\t\t\t)\n\t\t\t\t// And `i` is the return value of eval.\n\t\t\t) || '?' // Finally, if there's no such char in table (invalid Morse code), use '?' instead.\n\t\t}\n\t)\n}","size":1973,"filename":"annotated.js"},"LICENSE.txt":{"raw_url":"https://gist.github.com/raw/1072010/964b0b156963212a98c659ce59d8764cccf0a599/LICENSE.txt","content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2011 subzey <subzey@immelman.ru>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.","size":480,"filename":"LICENSE.txt"},"README.md":{"raw_url":"https://gist.github.com/raw/1072010/d64f560305e507dad308f3ad8ae64f3786cd2988/README.md","content":"deMorse\n=======\n\nTranslates Morse code into readable text using conversion dictionary.\n\nUsage\n-----\n```\ndemorse (\n\tstring, *required*\n\tdictionary *required*\n)\n```","size":162,"filename":"README.md"},"index.js":{"raw_url":"https://gist.github.com/raw/1072010/f5cfc819c678663779ccb4b139ea1551fac8de8c/index.js","content":"function(s,t){return s.replace(/([.-]+).?|([^.-]+)/g,function(i,s,f){i=1;return f?' ':t.charAt(eval(s.replace(/./g,\"i=i*2-~$&1;\")))||'?'})}","size":139,"filename":"index.js"},"test.html":{"raw_url":"https://gist.github.com/raw/1072010/564860473b16e2a812f77b66e1baa02736d48b5f/test.html","content":"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\">\n\t<head>\n\t\t<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" />\n\t\t<title>demorse140 demo</title>\n\t\t<style type=\"text/css\">\n\t\t\t#message,\n\t\t\t#raw {\n\t\t\t\tborder: solid gray 1px;\n\t\t\t\tpadding: 3px;\n\t\t\t\ttext-align: right;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\theight: 1em;\n\t\t\t}\n\t\t\th1 {\n\t\t\t\tborder: solid gray 1px;\n\t\t\t\tbackground: lightgrey;\n\t\t\t\ttext-align: center;\n\t\t\t\tfont: normal normal normal 18px 'Tahoma', sans-serif;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<h1>Use space key</h1>\n\t\t<pre id=\"message\"></pre>\n\t\t<pre id=\"raw\"></pre>\n\t\t\n\t\t<script type=\"text/javascript\">\n\t\t\tvar demorse = function(s,t){return s.replace(/([.-]+).?|([^.-]+)/g,function(i,s,f){i=1;return f?' ':t.charAt(eval(s.replace(/./g,\"i=i*2-~$&1;\")))||'?'})}\n\t\t\tvar morseTable = \"??TEMNAIOGKDWRUS??QZYCXBJP?L?FVH09?8???7???????61???????2???3?45\"\n\t\t</script>\n\t\t<script type=\"text/javascript\">\n\t\t\tvar keyState;\n\t\t\tvar morseMessage = \".---- ....- -----   -... -.-- - . ...\";\n\t\t\tvar lastDown = 0;\n\t\t\tvar lastUp = 0;\n\t\t\tvar ditLength = 200;\n\t\t\t\n\t\t\tfunction keyStateChange(e){\n\t\t\t\tif (e.keyCode != 0x20) return;\n\n\t\t\t\tif (!keyState && e.type==\"keydown\"){\n\t\t\t\t\tkeyState = 1;\n\t\t\t\t\tlastDown = +new Date;\n\t\t\t\t\tvar timeDiff = (lastDown - lastUp) / ditLength;\n\t\t\t\t\tif (timeDiff >= 3){\n\t\t\t\t\t\tmorseMessage += \" \";\n\t\t\t\t\t};\n\t\t\t\t\tif (timeDiff >= 7){\n\t\t\t\t\t\tmorseMessage += \"  \";\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t} else if (keyState && e.type==\"keyup\"){\n\t\t\t\t\tkeyState = 0;\n\t\t\t\t\tlastUp = +new Date;\n\t\t\t\t\tif ((lastUp - lastDown) / ditLength >= 3){\n\t\t\t\t\t\tmorseMessage += \"-\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmorseMessage += \".\";\n\t\t\t\t\t};\n\t\t\t\t} else return;\n\t\t\t\tupdateView()\n\t\t\t};\n\t\t\tif (document.addEventListener){\n\t\t\t\tdocument.addEventListener(\"keyup\", keyStateChange, true);\n\t\t\t\tdocument.addEventListener(\"keydown\", keyStateChange, true);\n\t\t\t} else if (document.attachEvent) {\n\t\t\t\tdocument.attachEvent(\"onkeyup\", keyStateChange, true);\n\t\t\t\tdocument.attachEvent(\"onkeydown\", keyStateChange, true);\n\t\t\t}\n\t\t\t\n\t\t\tvar rawField = document.getElementById(\"raw\");\n\t\t\tvar messageField = document.getElementById(\"message\");\n\t\t\tfunction updateView(){\n\t\t\t\trawField.innerHTML = \"\";\n\t\t\t\trawField.appendChild(document.createTextNode(morseMessage));\n\t\t\t\trawField.scrollLeft = rawField.scrollWidth;\n\t\t\t\tmessageField.innerHTML = \"\";\n\t\t\t\tmessageField.appendChild(document.createTextNode(demorse(morseMessage, morseTable)));\n\t\t\t\tmessageField.scrollLeft = messageField.scrollWidth;\n\t\t\t};\n\t\t\tupdateView();\n\t\t</script>\n\t\t\n\t\n\t</body>\n</html>","size":2619,"filename":"test.html"},"package.json":{"raw_url":"https://gist.github.com/raw/1072010/8b67de63660e4b83a40fa417c3ccca7393ea295a/package.json","content":"{\n  \"name\": \"deMorse\",\n\n  \"description\": \"Translates Morse code into readable text\",\n\n  \"keywords\": [\n    \"morse\"\n  ]\n}","size":119,"filename":"package.json"}},"user":{"avatar_url":"https://secure.gravatar.com/avatar/ac8a5e8739b75bda6567a4630b91dd82?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/subzey","login":"subzey","id":810582},"url":"https://api.github.com/gists/1072010","description":"deMorse: Morse code → text","public":true,"comments":6,"history":[{"user":{"avatar_url":"https://secure.gravatar.com/avatar/ac8a5e8739b75bda6567a4630b91dd82?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/subzey","login":"subzey","id":810582},"url":"https://api.github.com/gists/1072010/26b3c2e7d8347206c5ff53b50dd7c61fe07979bf","committed_at":"2011-07-08T14:54:54Z","change_status":{"deletions":58,"additions":145,"total":203},"version":"26b3c2e7d8347206c5ff53b50dd7c61fe07979bf"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1072010/97b4f64048ad388d12e0473b416d7e4893391f50","committed_at":"2011-06-01T13:42:07Z","change_status":{"deletions":7,"additions":5,"total":12},"version":"97b4f64048ad388d12e0473b416d7e4893391f50"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1072010/df573b0569cc36550aa73fa9244286f24823fbb9","committed_at":"2011-06-01T12:27:17Z","change_status":{"deletions":0,"additions":1,"total":1},"version":"df573b0569cc36550aa73fa9244286f24823fbb9"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1072010/2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","committed_at":"2011-05-31T22:34:03Z","change_status":{"deletions":1,"additions":1,"total":2},"version":"2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1072010/cb7ce28cbcfb095a319f290d0632332f22d90c72","committed_at":"2011-05-31T18:15:34Z","change_status":{"deletions":0,"additions":13,"total":13},"version":"cb7ce28cbcfb095a319f290d0632332f22d90c72"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1072010/a1fcbcb83329294f8afe9b71c132790e0c1f7d8b","committed_at":"2011-05-31T18:10:31Z","change_status":{"deletions":19,"additions":17,"total":36},"version":"a1fcbcb83329294f8afe9b71c132790e0c1f7d8b"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1072010/e69917d0323336a4cb552f60484b73c09eb538ee","committed_at":"2011-05-26T16:25:15Z","change_status":{"deletions":6,"additions":6,"total":12},"version":"e69917d0323336a4cb552f60484b73c09eb538ee"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1072010/a811e92efd1c0ae72be6dc9a95c4fcf1598134dd","committed_at":"2011-05-25T11:57:53Z","change_status":{"deletions":8,"additions":8,"total":16},"version":"a811e92efd1c0ae72be6dc9a95c4fcf1598134dd"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1072010/80a276faf6c6d20ddddf0a6976f251113e82182c","committed_at":"2011-05-23T08:25:12Z","change_status":{"deletions":21,"additions":14,"total":35},"version":"80a276faf6c6d20ddddf0a6976f251113e82182c"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1072010/960fcc2cd42c2343f8abda98353165bf73f237f1","committed_at":"2011-05-23T08:18:48Z","change_status":{"deletions":4,"additions":3,"total":7},"version":"960fcc2cd42c2343f8abda98353165bf73f237f1"}],"html_url":"https://gist.github.com/1072010","git_pull_url":"git://gist.github.com/1072010.git","git_push_url":"git@gist.github.com:1072010.git","id":"1072010","updated_at":"2011-07-08T14:54:54Z","created_at":"2011-07-08T14:52:42Z"}