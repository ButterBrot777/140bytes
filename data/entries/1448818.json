{"description":"Attach a handler to generate a draggable file on the fly","created_at":"2011-12-08T21:56:43Z","files":{"annotated.js":{"content":"function(element,filename,content){\n element.addEventListener(\"dragstart\", // Attach to the dragstart event\n  function(evt){                       // Handler for the event\n   evt.dataTransfer.setData(\n    \"DownloadURL\",                     // Type of drag - DownloadURL in this case\n    \"text/html:\"                       // Type of file we're generating\n     + filename                        // name for the new file\n     + \":data:;base64,\"                // to convince the browser this is binary data\n     + btoa(content)                   // The actual content you want in the file\n   )\n  }\n )\n}\n","type":"application/javascript","raw_url":"https://gist.github.com/raw/1448818/42bc2cc22331ea69b575c4c5e16c6e43d0542e2e/annotated.js","size":601,"filename":"annotated.js","language":"JavaScript"},"LICENSE.txt":{"content":"            DO WHATEVER YOU MIGHT WISH TO PUBLIC LICENSE\n                    Version 1, December 2011\n\n Copyright (C) 2011 SIMON MADINE <http://thingsinjars.com>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHATEVER YOU MIGHT WISH TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHATEVER YOU MIGHT WISH TO.","type":"text/plain","raw_url":"https://gist.github.com/raw/1448818/b2e412504d141aefbbe938f57c234d3da22042ee/LICENSE.txt","size":494,"filename":"LICENSE.txt","language":"Text"},"index.js":{"content":"function(a,b,c){a.addEventListener(\"dragstart\",function(e){e.dataTransfer.setData(\"DownloadURL\",\"text/html:\"+b+\":data:;base64,\"+btoa(c))})}","type":"application/javascript","raw_url":"https://gist.github.com/raw/1448818/16d8be1a22173e6cd68ba6a1fb7cb6a5e5cfe18a/index.js","size":139,"filename":"index.js","language":"JavaScript"},"test.html":{"content":"<!DOCTYPE html>\n<title>Create a file on the fly</title>\n<p>This test page is a quine.</p>\n<div>Drag this: <b id=\"ret\" draggable=true>Quine</b></div>\n<script>\n  var myFunction = function(a,b,c){a.addEventListener(\"dragstart\",function(e){e.dataTransfer.setData(\"DownloadURL\",\"text/html:\"+b+\":data:;base64,\"+btoa(c))})}\n  myFunction(document.getElementById( \"ret\" ), \"140test.html\", \"<!DOCTYPE html>\"+document.all[0].innerHTML); //Kinda cheating with the doctype here...\n</script>","type":"text/html","raw_url":"https://gist.github.com/raw/1448818/c722fcb8032c40330028e22586f88bd97986bf13/test.html","size":477,"filename":"test.html","language":"HTML"},"package.json":{"content":"{\n  \"name\": \"dragFile\",\n\n  \"description\": \"Attaches a handler to generate a draggable file on the fly\",\n\n  \"keywords\": [\n    \"drag\",\n    \"file\",\n    \"event\"\n  ]\n}","type":"application/json","raw_url":"https://gist.github.com/raw/1448818/c93dbbc4467f6e8e670aa382d1f4ed2420a0e416/package.json","size":162,"filename":"package.json","language":"JSON"}},"public":true,"forks":[],"user":{"gravatar_id":"9519dfb4fc9300b32fbce7ce91f2375e","avatar_url":"https://secure.gravatar.com/avatar/9519dfb4fc9300b32fbce7ce91f2375e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/thingsinjars","id":147663,"login":"thingsinjars"},"comments":3,"git_pull_url":"git://gist.github.com/1448818.git","history":[{"change_status":{"additions":0,"total":32,"deletions":32},"committed_at":"2011-12-11T14:48:53Z","user":{"gravatar_id":"9519dfb4fc9300b32fbce7ce91f2375e","avatar_url":"https://secure.gravatar.com/avatar/9519dfb4fc9300b32fbce7ce91f2375e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/thingsinjars","id":147663,"login":"thingsinjars"},"version":"506fa4eceaeab19e836c906ae696984f06b2b4c4","url":"https://api.github.com/gists/1448818/506fa4eceaeab19e836c906ae696984f06b2b4c4"},{"change_status":{"additions":2,"total":4,"deletions":2},"committed_at":"2011-12-11T14:36:03Z","user":{"gravatar_id":"9519dfb4fc9300b32fbce7ce91f2375e","avatar_url":"https://secure.gravatar.com/avatar/9519dfb4fc9300b32fbce7ce91f2375e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/thingsinjars","id":147663,"login":"thingsinjars"},"version":"5c63e994d3b5afcef70c1442368ab7bb2e449ba1","url":"https://api.github.com/gists/1448818/5c63e994d3b5afcef70c1442368ab7bb2e449ba1"},{"change_status":{"additions":11,"total":22,"deletions":11},"committed_at":"2011-12-11T14:33:38Z","user":{"gravatar_id":"9519dfb4fc9300b32fbce7ce91f2375e","avatar_url":"https://secure.gravatar.com/avatar/9519dfb4fc9300b32fbce7ce91f2375e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/thingsinjars","id":147663,"login":"thingsinjars"},"version":"8d56944a565fc4519d4ae17be4d65a720e455aa2","url":"https://api.github.com/gists/1448818/8d56944a565fc4519d4ae17be4d65a720e455aa2"},{"change_status":{"additions":7,"total":15,"deletions":8},"committed_at":"2011-12-09T16:40:34Z","user":null,"version":"2afa2e5acee4c52e938b9b1dbe6e565723f0ae95","url":"https://api.github.com/gists/1448818/2afa2e5acee4c52e938b9b1dbe6e565723f0ae95"},{"change_status":{"additions":12,"total":24,"deletions":12},"committed_at":"2011-12-09T15:03:56Z","user":null,"version":"20c9927e1a0d28e9b91e2d418a81c61a111c0202","url":"https://api.github.com/gists/1448818/20c9927e1a0d28e9b91e2d418a81c61a111c0202"},{"change_status":{"additions":23,"total":48,"deletions":25},"committed_at":"2011-12-08T22:23:55Z","user":null,"version":"d6007e96fd89e7cf547f31a61b5cc0f8e4a1e7ac","url":"https://api.github.com/gists/1448818/d6007e96fd89e7cf547f31a61b5cc0f8e4a1e7ac"},{"change_status":{"additions":1,"total":2,"deletions":1},"committed_at":"2011-07-28T06:44:45Z","user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"96ff24cc4f871061134de4188fa24cf4b53d3986","url":"https://api.github.com/gists/1448818/96ff24cc4f871061134de4188fa24cf4b53d3986"},{"change_status":{"additions":2,"total":4,"deletions":2},"committed_at":"2011-07-28T06:44:14Z","user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"1e1c7df97b55fe8f1543433a83d0e76a4a575055","url":"https://api.github.com/gists/1448818/1e1c7df97b55fe8f1543433a83d0e76a4a575055"},{"change_status":{"additions":5,"total":12,"deletions":7},"committed_at":"2011-06-01T13:42:07Z","user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"97b4f64048ad388d12e0473b416d7e4893391f50","url":"https://api.github.com/gists/1448818/97b4f64048ad388d12e0473b416d7e4893391f50"},{"change_status":{"additions":1,"total":1,"deletions":0},"committed_at":"2011-06-01T12:27:17Z","user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"version":"df573b0569cc36550aa73fa9244286f24823fbb9","url":"https://api.github.com/gists/1448818/df573b0569cc36550aa73fa9244286f24823fbb9"}],"updated_at":"2011-12-13T19:50:53Z","git_push_url":"git@gist.github.com:1448818.git","html_url":"https://gist.github.com/1448818","fork_of":{"description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","created_at":"2011-05-09T16:13:35Z","files":{"annotated.js":{"type":"application/javascript","raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","size":396,"filename":"annotated.js","language":"JavaScript"},"LICENSE.txt":{"type":"text/plain","raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","size":483,"filename":"LICENSE.txt","language":"Text"},"README.md":{"type":"text/plain","raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","size":1457,"filename":"README.md","language":"Markdown"},"index.js":{"type":"application/javascript","raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","size":140,"filename":"index.js","language":"JavaScript"},"test.html":{"type":"text/html","raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","size":393,"filename":"test.html","language":"HTML"},"package.json":{"type":"application/json","raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","size":241,"filename":"package.json","language":"JSON"}},"public":true,"user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","id":777161,"login":"140bytes"},"comments":51,"git_pull_url":"git://gist.github.com/962807.git","updated_at":"2011-05-18T12:15:41Z","git_push_url":"git@gist.github.com:962807.git","html_url":"https://gist.github.com/962807","id":"962807","url":"https://api.github.com/gists/962807"},"id":"1448818","url":"https://api.github.com/gists/1448818"}