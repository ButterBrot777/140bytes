{"forks":[{"user":{"url":"https://api.github.com/users/cmevans2","login":"cmevans2","avatar_url":"https://secure.gravatar.com/avatar/6f7328ef7295bc21e2c489e499e121a6?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":150755},"url":"https://api.github.com/gists/1127016","id":"1127016","updated_at":"2011-08-05T06:24:35Z","created_at":"2011-08-05T06:24:35Z"},{"user":{"url":"https://api.github.com/users/cmevans2","login":"cmevans2","avatar_url":"https://secure.gravatar.com/avatar/6f7328ef7295bc21e2c489e499e121a6?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":150755},"url":"https://api.github.com/gists/1129139","id":"1129139","updated_at":"2011-08-06T07:33:13Z","created_at":"2011-08-06T07:33:13Z"}],"files":{"annotated.js":{"content":"function(\n  a, // the template string\n  c  // the values\n){\n  return a.replace(/{ *([^} ]+) *}/g, // searches for { variable_name } to replace\n    function( // the replacer function\n      b, // no use here. it holds the entire \"{ variable_name }\" string \n      a  // we will use this instead, it holds \"variable_name\"\n    ){\n      b=c; // re-assign the placeholder to values\n      a.replace(/[^.]+/g,function(a){ // find all the key names\n        b=b[a] // one by one until it's reduced to the one we are looking for\n      });\n      return b // return this value to be replaced\n    }\n  )\n}\n","size":590,"raw_url":"https://gist.github.com/raw/1075080/3ec1796654f769cab61521f9342fa06c3fc0e88f/annotated.js","filename":"annotated.js"},"LICENSE.txt":{"content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2011 Haochi Chen <http://ihaochi.com>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.\n","size":486,"raw_url":"https://gist.github.com/raw/1075080/03ffe8d6fb885b44b335448fc8ff587ebe705c8d/LICENSE.txt","filename":"LICENSE.txt"},"README.md":{"content":"Tofu is a logic-less, tweet-size (minified) JavaScript templating engine similar to [mustache.js](https://github.com/janl/mustache.js), except that tofu is true logic-less.\n\n## Usage\nTofu takes two parameters: a string as template, and a object as values. Variables inside the template are surrounded by a pair of curly braces.\n\n`tofu(\"{ Ich } am { ein } Berliner\", { Ich: \"I\", ein: \"a\" });` will return `I am a Berliner`.\n\nYou can access nested object values through the familar dot notation that JavaScript uses, so you can do something like\n\n    tofu(\"Welcome to { place.name }! The current temperature is { place.temperature.magnitude } degrees { place.temperature.unit }.\", { \n      place: {\n        name: \"Hong Kong\",\n        temperature: {\n          magnitude: 20,\n          unit : \"Celcius\"\n        }\n      }\n    });\n\nand it will return `Welcome to Hong Kong! The current temperature is 20 degrees Celcius.`\n\n## Gotchas\nThere aren't really any gotchas, but I will just put it here.\n\n1. I have made the key names for the values object is very forgiving, so you can write something like `tofu(\"{ *** }\", { \"***\": \"Hello, World!\"})`. It should be able to accept any string (including symbols and non-Latin characters) as long as it doesn't include spaces or the closing curly brace (i.e. `}`). The reasoning is pretty obvious so I am not going to state it here. You can look at the source code for the exact regular expression. My empirical research shows that you won't have to worry about it 99.9999999% of the time. As a general rule of thumb, pretend like you are accessing a JavaScript object using dot notation and you should be fine.\n\n## Why should you use Tofu?\nTofu is fast, tiny, and gets the job done if you don't need the fancy conditional and enumerable sections that mustache offers.\n","size":1803,"raw_url":"https://gist.github.com/raw/1075080/be31d5afa9ee56e6793a188106d69b8bb3755519/README.md","filename":"README.md"},"index.js":{"content":"function(a,c){return a.replace(/{ *([^} ]+) *}/g,function(b,a){b=c;a.replace(/[^.]+/g,function(a){b=b[a]});return b})}\n","size":119,"raw_url":"https://gist.github.com/raw/1075080/1fabb9f40038e379482ab1eb526300d67f773780/index.js","filename":"index.js"},"test.html":{"content":"<!DOCTYPE html5>\n<html>\n<head>\n  <link rel=\"stylesheet\" href=\"http://code.jquery.com/qunit/git/qunit.css\" type=\"text/css\" media=\"screen\" />\n  <script src=\"http://code.jquery.com/jquery-latest.js\"></script>\n  <script src=\"http://code.jquery.com/qunit/git/qunit.js\"></script>\n  <script>\n  var tofu = function(a,c){return a.replace(/{ *([^} ]+) *}/g,function(b,a){b=c;a.replace(/[^.]+/g,function(a){b=b[a]});return b})};\n  </script>\n  <script>\n  $(document).ready(function(){\n    test(\"Simple object test\", function() {\n      equals(\"I am a Berliner\", tofu(\"{Ich} am {ein} Berliner\", {Ich: \"I\", ein: \"a\"}));\n    });\n\n    module(\"Nested object values\");\n    test(\"Simple test\", function() {\n      var expected_message = \"Welcome to Hong Kong! The current temperature is 20 degrees Celcius.\"\n        , template = \"Welcome to { place.name }! The current temperature is { place.temperature.magnitude } degrees { place.temperature.unit }.\"\n        , rendered_message = tofu(template, {\n          place: {\n            name: \"Hong Kong\",\n            temperature: {\n              magnitude: 20,\n              unit : \"Celcius\"\n            }\n          }\n        });\n      equals(expected_message, rendered_message);\n    });\n    test(\"Multiple occurances\", function(){\n      var expected_message = \"A rose is a rose is a rose\"\n        , rendered_message = tofu(\"A { flower } is a { flower } is a { flower }\", { flower: \"rose\" });\n\n      equals(expected_message, rendered_message);\n    });\n\n    module(\"Fancy key names\");\n    test(\"Invalid JavaScript variable name\", function(){\n      var expected_message = \"Tofu is yummy.\"\n        , rendered_message = tofu(\"{ #@! } is { *** }.\", { \"#@!\": \"Tofu\", \"***\": \"yummy\" });\n\n      equals(expected_message, rendered_message);\n    });\n    test(\"Accented Latin characters\", function(){\n      var expected_message = \"Tofu is yummy.\"\n        , rendered_message = tofu(\"{ á } is { ǽ }.\", { \"á\": \"Tofu\", \"ǽ\": \"yummy\" });\n\n      equals(expected_message, rendered_message);\n    });\n    test(\"Asian characters\", function(){\n      var expected_message = \"Hong Kong is part of China.\"\n        , rendered_message = tofu(\"{ 香港 } is part of { 中國 }.\", { \"香港\": \"Hong Kong\", \"中國\": \"China\" });\n\n      equals(expected_message, rendered_message);\n    });\n\n    module(\"Misc.\");\n    test(\"Make sure the outgoing values are the same as the incoming values\", function(){\n      var expected_message = \"What does a cat do? It meows!\",\n          template = \"What does a { animal.species.name } do? It { animal.species.action }!\",\n          values = { animal: {\n            species: {\n              name: \"cat\",\n              action: \"meows\"\n            },\n            some_other_stuff: \"should still be here!\"\n          } };\n\n      equals(expected_message, tofu(template, values));\n      equals(template, \"What does a { animal.species.name } do? It { animal.species.action }!\");\n      deepEqual(values, { animal: {\n        species: {\n          name: \"cat\",\n          action: \"meows\"\n        },\n        some_other_stuff: \"should still be here!\"\n      } });\n    });\n  });\n  </script>\n</head>\n<body>\n  <h1 id=\"qunit-header\">QUnit</h1>\n  <h2 id=\"qunit-banner\"></h2>\n  <div id=\"qunit-testrunner-toolbar\"></div>\n  <h2 id=\"qunit-userAgent\"></h2>\n  <ol id=\"qunit-tests\"></ol>\n  <div id=\"qunit-fixture\">test markup, will be hidden</div>\n</body>\n</html>\n","size":3365,"raw_url":"https://gist.github.com/raw/1075080/b0972e7fcca264afe339f17d3ba517e6cca2009b/test.html","filename":"test.html"},"package.json":{"content":"{\n  \"name\": \"tofu\",\n\n  \"description\": \"Tofu is a logic-less, tweet-size JavaScript templating engine.\",\n\n  \"keywords\": [\n    \"tofu\",\n    \"template\"\n  ]\n}\n","size":154,"raw_url":"https://gist.github.com/raw/1075080/8f216e6d8e02a841bc39c3202908a5bae5b765cb/package.json","filename":"package.json"}},"user":{"url":"https://api.github.com/users/haochi","login":"haochi","avatar_url":"https://secure.gravatar.com/avatar/72118291ae5796481afcb96a6ef1731f?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":351715},"html_url":"https://gist.github.com/1075080","url":"https://api.github.com/gists/1075080","description":"tofu: tiny templating engine","public":true,"comments":4,"history":[{"user":{"url":"https://api.github.com/users/haochi","login":"haochi","avatar_url":"https://secure.gravatar.com/avatar/72118291ae5796481afcb96a6ef1731f?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":351715},"url":"https://api.github.com/gists/1075080/fc4ff2d8a278444b511dec9e25e10c5c5b66cf65","change_status":{"deletions":21,"additions":15,"total":36},"committed_at":"2011-07-11T23:31:50Z","version":"fc4ff2d8a278444b511dec9e25e10c5c5b66cf65"},{"user":{"url":"https://api.github.com/users/haochi","login":"haochi","avatar_url":"https://secure.gravatar.com/avatar/72118291ae5796481afcb96a6ef1731f?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":351715},"url":"https://api.github.com/gists/1075080/2a8893c35c5a3924780e13cb6b1db1335c3cd0d6","change_status":{"deletions":26,"additions":24,"total":50},"committed_at":"2011-07-11T04:09:22Z","version":"2a8893c35c5a3924780e13cb6b1db1335c3cd0d6"},{"user":{"url":"https://api.github.com/users/haochi","login":"haochi","avatar_url":"https://secure.gravatar.com/avatar/72118291ae5796481afcb96a6ef1731f?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":351715},"url":"https://api.github.com/gists/1075080/2cba008b4f898e9eebfaf859bbe9006eb8044b9f","change_status":{"deletions":1,"additions":2,"total":3},"committed_at":"2011-07-11T02:50:34Z","version":"2cba008b4f898e9eebfaf859bbe9006eb8044b9f"},{"user":{"url":"https://api.github.com/users/haochi","login":"haochi","avatar_url":"https://secure.gravatar.com/avatar/72118291ae5796481afcb96a6ef1731f?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":351715},"url":"https://api.github.com/gists/1075080/0f22e00d6bebb2e1300667de6a221e4f81396c8d","change_status":{"deletions":4,"additions":28,"total":32},"committed_at":"2011-07-11T02:37:59Z","version":"0f22e00d6bebb2e1300667de6a221e4f81396c8d"},{"user":{"url":"https://api.github.com/users/haochi","login":"haochi","avatar_url":"https://secure.gravatar.com/avatar/72118291ae5796481afcb96a6ef1731f?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":351715},"url":"https://api.github.com/gists/1075080/ad71e9d2254a50645dc01bf96ce4a203357a1c55","change_status":{"deletions":26,"additions":17,"total":43},"committed_at":"2011-07-10T23:48:02Z","version":"ad71e9d2254a50645dc01bf96ce4a203357a1c55"},{"user":{"url":"https://api.github.com/users/haochi","login":"haochi","avatar_url":"https://secure.gravatar.com/avatar/72118291ae5796481afcb96a6ef1731f?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":351715},"url":"https://api.github.com/gists/1075080/305b5fb382f1c8e104c349465ff7890db518d3de","change_status":{"deletions":33,"additions":104,"total":137},"committed_at":"2011-07-10T23:43:50Z","version":"305b5fb382f1c8e104c349465ff7890db518d3de"},{"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"url":"https://api.github.com/gists/1075080/97b4f64048ad388d12e0473b416d7e4893391f50","change_status":{"deletions":7,"additions":5,"total":12},"committed_at":"2011-06-01T13:42:07Z","version":"97b4f64048ad388d12e0473b416d7e4893391f50"},{"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"url":"https://api.github.com/gists/1075080/df573b0569cc36550aa73fa9244286f24823fbb9","change_status":{"deletions":0,"additions":1,"total":1},"committed_at":"2011-06-01T12:27:17Z","version":"df573b0569cc36550aa73fa9244286f24823fbb9"},{"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"url":"https://api.github.com/gists/1075080/2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","change_status":{"deletions":1,"additions":1,"total":2},"committed_at":"2011-05-31T22:34:03Z","version":"2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca"},{"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"url":"https://api.github.com/gists/1075080/cb7ce28cbcfb095a319f290d0632332f22d90c72","change_status":{"deletions":0,"additions":13,"total":13},"committed_at":"2011-05-31T18:15:34Z","version":"cb7ce28cbcfb095a319f290d0632332f22d90c72"}],"git_pull_url":"git://gist.github.com/1075080.git","git_push_url":"git@gist.github.com:1075080.git","id":"1075080","fork_of":{"files":{"annotated.js":{"size":396,"raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","filename":"annotated.js"},"LICENSE.txt":{"size":483,"raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","filename":"LICENSE.txt"},"README.md":{"size":1457,"raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","filename":"README.md"},"index.js":{"size":140,"raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","filename":"index.js"},"test.html":{"size":393,"raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","filename":"test.html"},"package.json":{"size":241,"raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","filename":"package.json"}},"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"html_url":"https://gist.github.com/962807","url":"https://api.github.com/gists/962807","description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","public":true,"comments":45,"git_pull_url":"git://gist.github.com/962807.git","git_push_url":"git@gist.github.com:962807.git","id":"962807","updated_at":"2011-05-18T12:15:41Z","created_at":"2011-05-09T16:13:35Z"},"updated_at":"2011-07-10T23:51:16Z","created_at":"2011-07-10T23:23:00Z"}