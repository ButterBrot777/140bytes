{"forks":[{"user":{"url":"https://api.github.com/users/mikesherov","login":"mikesherov","avatar_url":"https://secure.gravatar.com/avatar/a123410cfb9ea6510294a295bb548530?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":364532},"url":"https://api.github.com/gists/1008218","id":"1008218","updated_at":"2011-06-04T19:18:24Z","created_at":"2011-06-04T19:09:50Z"},{"user":{"url":"https://api.github.com/users/bjorne","login":"bjorne","avatar_url":"https://secure.gravatar.com/avatar/4aee11080bf2e430b886ce4fe0e91bf0?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":65805},"url":"https://api.github.com/gists/1008371","id":"1008371","updated_at":"2011-06-04T21:14:06Z","created_at":"2011-06-04T21:13:09Z"},{"user":{"url":"https://api.github.com/users/mikesherov","login":"mikesherov","avatar_url":"https://secure.gravatar.com/avatar/a123410cfb9ea6510294a295bb548530?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":364532},"url":"https://api.github.com/gists/1008438","id":"1008438","updated_at":"2011-06-04T22:34:55Z","created_at":"2011-06-04T22:34:23Z"},{"user":{"url":"https://api.github.com/users/subzey","login":"subzey","avatar_url":"https://secure.gravatar.com/avatar/ac8a5e8739b75bda6567a4630b91dd82?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":810582},"url":"https://api.github.com/gists/1008764","id":"1008764","updated_at":"2011-06-05T08:15:14Z","created_at":"2011-06-05T08:07:29Z"}],"files":{"annotated.js":{"raw_url":"https://gist.github.com/raw/1007834/7096160e76672217800a4618491591eb2c2e1fc2/annotated.js","content":"// http://en.wikipedia.org/wiki/UTF-8\n\nfunction stringToByteArray(a,b,c,d,e,f,g,h,i){\n    for(\n        b = [\n            e = \n            d = 0\n        ]                                        // initialise variables\n        ;\n        c = a.charCodeAt(d++)                    // get the character code from the string\n        ;\n    ){\n        g = 128;\n        c < g                                    // under 128 is UTF-8 (ASCII range), 1 byte\n            ?\n            b[e] = c                             // add to byte array\n            :\n            c < 2048                              // under 2048 2bytes\n                ?\n                    f = 1                        // number of bytes left to process\n                :\n                c < 65536                        // under 65536 is 3bytes\n                    ?\n                        f = 2                    // number of bytes left to process\n                    :\n                    c < 2<<20 ?                  // finally, under 2097152 is 4bytes\n                        f = 3                    // 3bytes left to process\n                    :\n                    0\n                    ;\n\n        for(                                     // process the remaining bytes indicated by `f`\n            h = e++,\n            i = f\n            ;\n            f-- > 0                              // -1 and check if greater than 0 still\n            ;\n            b[h] = g + (2<<(6-i)) + (c >> i*6)   // move onto the next slot in the byte array\n        )\n            b[e++] = g + (c >> f*6 & 63)         // shift f * 6 bits, mask 1byte and add 128\n    }\n    return b                                     // return the byte array\n}","size":1694,"filename":"annotated.js"},"LICENSE.txt":{"raw_url":"https://gist.github.com/raw/1007834/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2011 YOUR_NAME_HERE <YOUR_URL_HERE>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.","size":483,"filename":"LICENSE.txt"},"index.js":{"raw_url":"https://gist.github.com/raw/1007834/866ddd5a836303f70121b498955be42907573045/index.js","content":"function(a,b,c,d,e,f,g,h,i){for(b=[e=d=0];c=a.charCodeAt(d++);){g=128;c<g?b[e]=c:c<2048?f=1:c<65536?f=2:c<2<<20?f=3:0;for(h=e++,i=f;f-- >0;b[h]=g+(2<<6-i)+(c>>i*6))b[e++]=g+(c>>f*6&63)}return b}","size":194,"filename":"index.js"},"test.html":{"raw_url":"https://gist.github.com/raw/1007834/c2126c7e475474d2430c28c7dfd915c517268be9/test.html","content":"<!DOCTYPE html> \n<title>stringToByteArray</title>\n<div>Expected value: <b id=\"ret\"></b></div>\n<div>Actual value: &nbsp;&nbsp;&nbsp;&nbsp;<b id=\"ret2\"></b></div>\n<script>\n  // write a small example that shows off the API for your example\n  // and tests it in one fell swoop.\n\n  function stringToByteArrayOld(str) {\n    var bytes = [], code, i;\n    \n    for(i = 0; i < str.length; i++) {\n        code = str.charCodeAt(i);\n        \n        if (code < 128) {\n            bytes.push(code);\n        } else if (code < 2048) {\n            bytes.push(192+(code>>6), 128+(code&63));\n        } else if (code < 65536) {\n            bytes.push(224+(code>>12), 128+((code>>6)&63), 128+(code&63));\n        } else if (code < 2097152) {\n            bytes.push(240+(code>>18), 128+((code>>12)&63), 128+((code>>6)&63), 128+(code&63));\n        }\n    }\n    \n    return bytes;\n}\n\n  function stringToByteArray(a,b,c,d,e,f,g,h,i){for(b=[e=d=0];c=a.charCodeAt(d++);){g=128;c<g?b[e]=c:c<2048?f=1:c<65536?f=2:c<2<<20?f=3:0;for(h=e++,i=f;f-- >0;b[h]=g+(2<<6-i)+(c>>i*6))b[e++]=g+(c>>f*6&63)}return b};\n\n  document.getElementById( \"ret\" ).innerHTML = stringToByteArrayOld(\"hello☺䭢 it works\")\n  document.getElementById( \"ret2\" ).innerHTML = stringToByteArray(\"hello☺䭢 it works\")\n</script>","size":1266,"filename":"test.html"},"stringToByteArray.js":{"raw_url":"https://gist.github.com/raw/1007834/9006f374699189b3a7eca6da246e4d693107ceaf/stringToByteArray.js","content":"function stringToByteArray(str) {\n    var bytes = [], code, i;\n    \n    for(i = 0; i < str.length; i++) {\n        code = str.charCodeAt(i);\n        \n        if (code < 128) {\n            bytes.push(code);\n        } else if (code < 2048) {\n            bytes.push(192+(code>>6), 128+(code&63));\n        } else if (code < 65536) {\n            bytes.push(224+(code>>12), 128+((code>>6)&63), 128+(code&63));\n        } else if (code < 2097152) {\n            bytes.push(240+(code>>18), 128+((code>>12)&63), 128+((code>>6)&63), 128+(code&63));\n        }\n    }\n    \n    return bytes;\n}","size":576,"filename":"stringToByteArray.js"},"package.json":{"raw_url":"https://gist.github.com/raw/1007834/cc2db46b6d88fb66de4f98a2bbf721b07bcf0884/package.json","content":"{\n  \"name\": \"stringToByteArray\",\n\n  \"description\": \"Convert a string of characters to an array of UTF-8 bytes\",\n\n  \"keywords\": [\n    \"cryptography\",\n    \"utf8\"\n  ]\n}","size":165,"filename":"package.json"}},"html_url":"https://gist.github.com/1007834","user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"git_push_url":"git@gist.github.com:1007834.git","url":"https://api.github.com/gists/1007834","fork_of":{"files":{"annotated.js":{"raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","size":396,"filename":"annotated.js"},"LICENSE.txt":{"raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","size":483,"filename":"LICENSE.txt"},"README.md":{"raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","size":1457,"filename":"README.md"},"index.js":{"raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","size":140,"filename":"index.js"},"test.html":{"raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","size":393,"filename":"test.html"},"package.json":{"raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","size":241,"filename":"package.json"}},"html_url":"https://gist.github.com/962807","user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"git_push_url":"git@gist.github.com:962807.git","url":"https://api.github.com/gists/962807","description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","public":true,"comments":45,"id":"962807","updated_at":"2011-05-18T12:15:41Z","created_at":"2011-05-09T16:13:35Z","git_pull_url":"git://gist.github.com/962807.git"},"description":"140byt.es -- convert string to array of UTF-8 bytes","public":true,"comments":25,"history":[{"user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"url":"https://api.github.com/gists/1007834/d193161dc0281b12f6b98d1a50d5ed2b88cd0efe","change_status":{"deletions":1,"additions":1,"total":2},"committed_at":"2011-07-11T07:33:31Z","version":"d193161dc0281b12f6b98d1a50d5ed2b88cd0efe"},{"user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"url":"https://api.github.com/gists/1007834/a467677c0d143f7f0f58cd9d2b54e24c74c212e9","change_status":{"deletions":4,"additions":4,"total":8},"committed_at":"2011-06-04T22:52:10Z","version":"a467677c0d143f7f0f58cd9d2b54e24c74c212e9"},{"user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"url":"https://api.github.com/gists/1007834/0306c8e7cd11c218a865fac95f7c8e36af7604d7","change_status":{"deletions":5,"additions":5,"total":10},"committed_at":"2011-06-04T22:48:53Z","version":"0306c8e7cd11c218a865fac95f7c8e36af7604d7"},{"user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"url":"https://api.github.com/gists/1007834/9891c7771c38876491497178d152581e25eeebea","change_status":{"deletions":4,"additions":6,"total":10},"committed_at":"2011-06-04T22:36:10Z","version":"9891c7771c38876491497178d152581e25eeebea"},{"user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"url":"https://api.github.com/gists/1007834/90ea5f0ae32f1b6e681e6caa0158e8ecda905187","change_status":{"deletions":9,"additions":8,"total":17},"committed_at":"2011-06-04T22:30:30Z","version":"90ea5f0ae32f1b6e681e6caa0158e8ecda905187"},{"user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"url":"https://api.github.com/gists/1007834/953ffaa7ae74827e79be200b55cb61f7bebbb42d","change_status":{"deletions":20,"additions":17,"total":37},"committed_at":"2011-06-04T20:59:15Z","version":"953ffaa7ae74827e79be200b55cb61f7bebbb42d"},{"user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"url":"https://api.github.com/gists/1007834/34563e378e4ef1edb765e4b0bdf17682bf7d0e19","change_status":{"deletions":0,"additions":0,"total":0},"committed_at":"2011-06-04T20:50:21Z","version":"34563e378e4ef1edb765e4b0bdf17682bf7d0e19"},{"user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"url":"https://api.github.com/gists/1007834/83192d5cf4eb1821421590744ffb12ee52d2e6e9","change_status":{"deletions":16,"additions":40,"total":56},"committed_at":"2011-06-04T20:45:30Z","version":"83192d5cf4eb1821421590744ffb12ee52d2e6e9"},{"user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"url":"https://api.github.com/gists/1007834/84b57e3fd2fc9e1a1340803ff3fea3719ddb8baa","change_status":{"deletions":5,"additions":5,"total":10},"committed_at":"2011-06-04T13:12:06Z","version":"84b57e3fd2fc9e1a1340803ff3fea3719ddb8baa"},{"user":{"url":"https://api.github.com/users/bytespider","login":"bytespider","avatar_url":"https://secure.gravatar.com/avatar/4a87f6137ef1448830bedfb348d4a7ee?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":91801},"url":"https://api.github.com/gists/1007834/e3eca93b5430b2abf71294105f686a2a91ae6701","change_status":{"deletions":2,"additions":2,"total":4},"committed_at":"2011-06-04T12:56:57Z","version":"e3eca93b5430b2abf71294105f686a2a91ae6701"}],"id":"1007834","updated_at":"2011-06-04T12:28:34Z","created_at":"2011-06-04T11:46:35Z","git_pull_url":"git://gist.github.com/1007834.git"}