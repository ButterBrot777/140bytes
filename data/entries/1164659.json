{"files":{"annotated.js":{"raw_url":"https://gist.github.com/raw/1164659/f7dd026dbc81ccada698a54f97e8641ab3d566b1/annotated.js","content":"function(\n  a, b, // latitude, longitude\n  c, // zoom\n  d, // tile size\n  e // placeholder\n){\n  return e = Math,\n    a = e.sin(a * e.PI / 180), // sin latitude\n    c = d * e.pow(2, c), // scale factor\n    { \n      x: (b / 360 + .5) * c, // x position \n      y: (.5 - e.log((1 + a) / (1-a)) / (4 * e.PI)) * c // y position\n    }\n}\n","size":330,"filename":"annotated.js"},"LICENSE.txt":{"raw_url":"https://gist.github.com/raw/1164659/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2011 YOUR_NAME_HERE <YOUR_URL_HERE>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.","size":483,"filename":"LICENSE.txt"},"README.md":{"raw_url":"https://gist.github.com/raw/1164659/801ce88a7aa1eaace29be0899d4cf07bf8c9e207/README.md","content":"Mercator Projection - 140byt.es\n===============================\n\nConverts a point from latitude/longitude to pixel coordinates using the [Mercator projection](http://en.wikipedia.org/wiki/Mercator_projection).\n\n## Usage\n\n```javascript\nmercator(\n  latitude, longitude,\n  zoomLevel,\n  tileSize\n)\n\n// returns {x,y} coordinates\n```\n\nAuthor\n------\n\nCreated by Martin Kleppe ([@aemkei](http://twitter.com/aemkei)) at [Ubilabs](http://ubilabs.net/).\n\nDIY\n---\n\nCheck his \"[JavaScript Golf Lessons](http://go.ubilabs.net/froscon)\" slides.\n\nFor more information\n--------------------\n\nSee the [140byt.es](http://140byt.es) site for a showcase of entries (built itself using 140-byte entries!), and follow [@140bytes](http://twitter.com/140bytes) on Twitter.","size":746,"filename":"README.md"},"index.js":{"raw_url":"https://gist.github.com/raw/1164659/41e481f2210e729848ad6b1d3bdf555b687e8b4f/index.js","content":"function(a,b,c,d,e){return e=Math,a=e.sin(a*e.PI/180),c=d*e.pow(2,c),{x:(b/360+.5)*c,y:(.5-e.log((1+a)/(1-a))/(4*e.PI))*c}}","size":123,"filename":"index.js"},"test.html":{"raw_url":"https://gist.github.com/raw/1164659/2f0167ef1bca9b0adcdf7dbae4a1fe2c72f5e865/test.html","content":"<!DOCTYPE html> \n<head>\n  <title>Mercator Projection</title>\n  <style type=\"text/css\" media=\"screen\">\n    html, body { margin: 0;}\n    .map { position: relative; }\n    .map div { position: absolute; width: 8px; height: 8px; margin: -5px; background: #F00; border: 1px solid #FFF; }\n  </style>\n</head>\n<body>\n  <div class=\"map\">\n    <img src=\"http://maps.googleapis.com/maps/api/staticmap?center=0,0&amp;zoom=1&amp;size=512x512&amp;maptype=roadmap&amp;sensor=false\">\n    <div id=\"nyc\" title=\"New York\"></div>\n    <div id=\"rio\" title=\"Rio\"></div>\n    <div id=\"tokyo\" title=\"Tokyo\"></div>\n  </div>    \n  <script>\n    var mercator = function(a,b,c,d,e){return e=Math,a=e.sin(a*e.PI/180),c=d*e.pow(2,c),{x:(b/360+.5)*c,y:(.5-e.log((1+a)/(1-a))/(4*e.PI))*c}},\n      city, style, coords, xy,\n      cities = {\n        nyc:   { lat:  40.714997, lng: -74.005966 },\n        rio:   { lat: -22.878706, lng: -43.207855 },\n        tokyo: { lat:  35.713068, lng: 139.685669 }\n      };\n    \n    for (city in cities){\n      style = document.getElementById(city).style;\n      coords = cities[city];\n      xy = mercator(coords.lat, coords.lng, 0, 512);\n      style.top = xy.y + \"px\";\n      style.left = xy.x + \"px\";\n    }\n  </script>\n</body>","size":1221,"filename":"test.html"},"package.json":{"raw_url":"https://gist.github.com/raw/1164659/7180a43cc6b1201e72b0640bb70f6501863c902a/package.json","content":"{\n  \"name\": \"mercator\",\n\n  \"description\": \"Converts a geographic location from latitude/longitude into pixel coordinates.\",\n\n  \"keywords\": [\n    \"maps\",\n    \"geo\",\n    \"mercator\",\n    \"projection\"\n  ]\n}","size":202,"filename":"package.json"}},"html_url":"https://gist.github.com/1164659","git_pull_url":"git://gist.github.com/1164659.git","history":[{"change_status":{"deletions":0,"total":4,"additions":4},"version":"e8794dc04dc809db0932fe2e42e00ac82aaf7e5a","user":{"avatar_url":"https://secure.gravatar.com/avatar/0d9da77bb99bea710cbf711ed08e57d7?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"aemkei","id":1521,"url":"https://api.github.com/users/aemkei"},"url":"https://api.github.com/gists/1164659/e8794dc04dc809db0932fe2e42e00ac82aaf7e5a","committed_at":"2011-08-30T06:56:45Z"},{"change_status":{"deletions":0,"total":0,"additions":0},"version":"ef3af2a2ef9098ac97be8780e573240cc3025ccf","user":{"avatar_url":"https://secure.gravatar.com/avatar/0d9da77bb99bea710cbf711ed08e57d7?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"aemkei","id":1521,"url":"https://api.github.com/users/aemkei"},"url":"https://api.github.com/gists/1164659/ef3af2a2ef9098ac97be8780e573240cc3025ccf","committed_at":"2011-08-29T21:26:42Z"},{"change_status":{"deletions":66,"total":114,"additions":48},"version":"c077d385121593dde9239444a08148a719396b15","user":{"avatar_url":"https://secure.gravatar.com/avatar/0d9da77bb99bea710cbf711ed08e57d7?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"aemkei","id":1521,"url":"https://api.github.com/users/aemkei"},"url":"https://api.github.com/gists/1164659/c077d385121593dde9239444a08148a719396b15","committed_at":"2011-08-29T21:25:04Z"},{"change_status":{"deletions":7,"total":13,"additions":6},"version":"383475e560361623ab48907dd64ec514347969c3","user":{"avatar_url":"https://secure.gravatar.com/avatar/0d9da77bb99bea710cbf711ed08e57d7?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"aemkei","id":1521,"url":"https://api.github.com/users/aemkei"},"url":"https://api.github.com/gists/1164659/383475e560361623ab48907dd64ec514347969c3","committed_at":"2011-08-29T20:35:59Z"},{"change_status":{"deletions":21,"total":81,"additions":60},"version":"3618ad6f953d70360efd4d9378de9a54d0762dfc","user":{"avatar_url":"https://secure.gravatar.com/avatar/0d9da77bb99bea710cbf711ed08e57d7?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"aemkei","id":1521,"url":"https://api.github.com/users/aemkei"},"url":"https://api.github.com/gists/1164659/3618ad6f953d70360efd4d9378de9a54d0762dfc","committed_at":"2011-08-29T20:33:26Z"},{"change_status":{"deletions":1,"total":2,"additions":1},"version":"96ff24cc4f871061134de4188fa24cf4b53d3986","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","id":777161,"url":"https://api.github.com/users/140bytes"},"url":"https://api.github.com/gists/1164659/96ff24cc4f871061134de4188fa24cf4b53d3986","committed_at":"2011-07-28T06:44:45Z"},{"change_status":{"deletions":2,"total":4,"additions":2},"version":"1e1c7df97b55fe8f1543433a83d0e76a4a575055","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","id":777161,"url":"https://api.github.com/users/140bytes"},"url":"https://api.github.com/gists/1164659/1e1c7df97b55fe8f1543433a83d0e76a4a575055","committed_at":"2011-07-28T06:44:14Z"},{"change_status":{"deletions":7,"total":12,"additions":5},"version":"97b4f64048ad388d12e0473b416d7e4893391f50","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","id":777161,"url":"https://api.github.com/users/140bytes"},"url":"https://api.github.com/gists/1164659/97b4f64048ad388d12e0473b416d7e4893391f50","committed_at":"2011-06-01T13:42:07Z"},{"change_status":{"deletions":0,"total":1,"additions":1},"version":"df573b0569cc36550aa73fa9244286f24823fbb9","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","id":777161,"url":"https://api.github.com/users/140bytes"},"url":"https://api.github.com/gists/1164659/df573b0569cc36550aa73fa9244286f24823fbb9","committed_at":"2011-06-01T12:27:17Z"},{"change_status":{"deletions":1,"total":2,"additions":1},"version":"2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","id":777161,"url":"https://api.github.com/users/140bytes"},"url":"https://api.github.com/gists/1164659/2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","committed_at":"2011-05-31T22:34:03Z"}],"public":true,"git_push_url":"git@gist.github.com:1164659.git","fork_of":{"files":{"annotated.js":{"raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","size":396,"filename":"annotated.js"},"LICENSE.txt":{"raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","size":483,"filename":"LICENSE.txt"},"README.md":{"raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","size":1457,"filename":"README.md"},"index.js":{"raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","size":140,"filename":"index.js"},"test.html":{"raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","size":393,"filename":"test.html"},"package.json":{"raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","size":241,"filename":"package.json"}},"html_url":"https://gist.github.com/962807","git_pull_url":"git://gist.github.com/962807.git","public":true,"git_push_url":"git@gist.github.com:962807.git","updated_at":"2011-05-18T12:15:41Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"140bytes","id":777161,"url":"https://api.github.com/users/140bytes"},"description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","created_at":"2011-05-09T16:13:35Z","id":"962807","comments":49,"url":"https://api.github.com/gists/962807"},"forks":[],"updated_at":"2011-08-29T21:26:42Z","user":{"avatar_url":"https://secure.gravatar.com/avatar/0d9da77bb99bea710cbf711ed08e57d7?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","login":"aemkei","id":1521,"url":"https://api.github.com/users/aemkei"},"description":"Mercator Projection - 140byt.es","created_at":"2011-08-23T08:35:12Z","id":"1164659","comments":0,"url":"https://api.github.com/gists/1164659"}