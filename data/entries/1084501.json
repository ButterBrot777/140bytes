{"fork_of":{"files":{"annotated.js":{"raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","size":396,"filename":"annotated.js"},"LICENSE.txt":{"raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","size":483,"filename":"LICENSE.txt"},"README.md":{"raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","size":1457,"filename":"README.md"},"index.js":{"raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","size":140,"filename":"index.js"},"test.html":{"raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","size":393,"filename":"test.html"},"package.json":{"raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","size":241,"filename":"package.json"}},"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/962807","description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","public":true,"comments":45,"html_url":"https://gist.github.com/962807","git_pull_url":"git://gist.github.com/962807.git","git_push_url":"git@gist.github.com:962807.git","id":"962807","updated_at":"2011-05-18T12:15:41Z","created_at":"2011-05-09T16:13:35Z"},"forks":[],"files":{"annotated.js":{"raw_url":"https://gist.github.com/raw/1084501/fc5713067f53e4aa3c82b9d3fc225d411fd1dbe6/annotated.js","content":"function(\n  a, // canvas node\n  b, // commands array\n  c, // command map\n  d, // placeholder\n  e  // counter\n){\n  for(\n    // get 2d canvas context, initialize counter\n    a=a.getContext('2d'), e=0;\n    // get next command\n    d=b[e++];\n  )\n    // long (string) or short (array) command?\n    '' + d === d ?\n      // string = evaluate long command in the scope of the context\n      eval('with(a){' + d + '}') : \n      // array = apply arguments to short command (get name from command map)\n      a[c[d[0]]].apply(a, d.slice(1))\n}","size":528,"filename":"annotated.js"},"LICENSE.txt":{"raw_url":"https://gist.github.com/raw/1084501/d9c87b40629cf7df4b00318d7e6fdb8dd9ccba6f/LICENSE.txt","content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2011 Alex Kloss <alexthkloss@web.de>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.","size":484,"filename":"LICENSE.txt"},"README.md":{"raw_url":"https://gist.github.com/raw/1084501/4fb95fae212443789670a06f60ee3168653a0703/README.md","content":"canvas tool\n===========\n\nWill iterate a command array to run each command on an canvas 2d context.\n\nUsage\n-----\nfn(canvas node, commands, commandmap)\n\ncommandmap = 'beginPath0closePath0moveTo0lineTo0quadraticCurveTo0bezierCurveTo0arcTo0rect0arc0fill0fillRect0stroke0clip0fillText0strokeText0measureText0drawImage0createImageData'.split(0);\n\nCommands can be issued either as long or short commands. Long commands are strings to be evaluated within the Canvas 2d context's scope, while short commands are arrays with the command number and the other arguments in order.\n\nShort Command numbers:\n\n* 0 = beginPath\n* 1 = closePath\n* 2 = moveTo\n* 3 = lineTo\n* 4 = quadraticCurveTo\n* 5 = bezierCurveTo\n* 6 = arcTo\n* 7 = rect\n* 8 = arc\n* 9 = fill\n* 10 = fillRect\n* 11 = stroke\n* 12 = clip\n* 13 = fillText\n* 14 = strokeText\n* 15 = measureText\n* 16 = drawImage\n* 17 = createImageData\n\nThis was done so we could render the logo of the 140byt.es homepage in canvas with a script that's smaller than 140bytes :)\n\nNevertheless, since we wanted to use as few external data as possible, we reduced this to a tool that only executed strings in the Canvas 2d-context and rendered bezierCurves:\n\n`function(a,b,c,d){a=a.getContext('2d');for(c in b)d=b[c],eval('with(a){'+(''+d!==d?((d[2]?'bezierCurveTo(':'moveTo(')+d+')'):d)+'}')}`","size":1311,"filename":"README.md"},"index.js":{"raw_url":"https://gist.github.com/raw/1084501/f1b30df8ddad0963ceb563a47d7c250bcd72f896/index.js","content":"function(a,b,c,d,e){for(a=a.getContext('2d'),e=0;d=b[e++];)''+d===d?eval('with(a){'+d+'}'):a[c[d[0]]].apply(a,d.slice(1))}","size":122,"filename":"index.js"},"test.html":{"raw_url":"https://gist.github.com/raw/1084501/0540e5ae57fb94b01d64603896e4dabe5545f49c/test.html","content":"<!DOCTYPE html> \n<title>Foo</title>\n<canvas id=\"ret\"></canvas>\n<div>Expected result: a red triangle</div>\n<script>\n  // write a small example that shows off the API for your example\n  // and tests it in one fell swoop.\n\n  var myFunction = function(a,b,c,d,e){for(a=a.getContext('2d'),e=0;d=b[e++];)''+d===d?eval('with(a){'+d+'}'):a[c[d[0]]].apply(a,d.slice(1))},\n      commandmap = 'beginPath0closePath0moveTo0lineTo0quadraticCurveTo0bezierCurveTo0arcTo0rect0arc0fill0fillRect0stroke0clip0fillText0strokeText0measureText0drawImage0createImageData'.split(0),\n      testdata = ['canvas.width=canvas.height=150;fillStyle=\"#f00\"',[0],[3,100,10],[3,0,100],[3,15,15],[1],[9]];\n\n  myFunction(document.getElementById('test'), testdata, commandmap);\n</script>\n<div>Expected Result: white on black 140byt.es logo</div>\n<canvas id=\"logocanvas\"></canvas>\n<script>\nvar Canvas = document.getElementById('logocanvas'),\nlogo=['canvas.width=200;canvas.height=32',[6,10],[8,10,11,10,11,16],[11,18,11,19,11,20],[23,10],[23,10.6,23,11.4,23,12],[23,18,33,18,33,12],[33,10],[33,12,33,18,33,20],[50,10],[43.6,10,43.6,20,50,20],[56.4,20,56.4,10,50,10],[67,6],[67,8,67,12,67,15],[67,22,77,22,77,15],[77,12,74,10,72,10],[69,10,68,10,67,10],[89,10],[89,11,89,12,89,13],[89,23,101,23,101,13],[101,13,101,12,101,10],[95,21],[95,22,95,23,95,26],[113,6],[113,8,113,10,113,12],[112.8,19.6,115,20.4,120,20],[115,10],[116,10,118,10,120,10],[132,20],[132,20,132,20,132,20],[154,14],[153,8,145,8,144,14],[144,21,150,20.2,154,20],[176,9],[165.8,8.6,166.6,12,166,12],[166,20],[176.2,20.6,175.4,18,176,18],'lineCap=\"round\";strokeStyle=\"#000\";lineWidth=11;stroke();strokeStyle=\"#fff\";lineWidth=4.2;stroke()'],\nlogoFunc = function(a,b,c,d){a=a.getContext('2d');for(c in b)d=b[c],''+d===d?eval('with(a){'+d+'}'):a[d[2]?'bezierCurveTo':'moveTo'].apply(a,d)};\nlogoFunc(Canvas, logo);\n</script>","size":1849,"filename":"test.html"},"package.json":{"raw_url":"https://gist.github.com/raw/1084501/bce267de05237cf130d8f336326e18adf2ecaed7/package.json","content":"{\n  \"name\": \"canvasTool\",\n\n  \"description\": \"Tool to do about everything that's possible in canvas using a small data format\",\n\n  \"keywords\": [\n    \"html5\",\n    \"canvas\",\n    \"2d\",\n    \"drawing\"\n  ]\n}","size":200,"filename":"package.json"}},"user":{"avatar_url":"https://secure.gravatar.com/avatar/cf11b026211a14ae41613d83850f2a62?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/atk","login":"atk","id":220405},"url":"https://api.github.com/gists/1084501","description":"canvas tool","public":true,"comments":0,"history":[{"user":{"avatar_url":"https://secure.gravatar.com/avatar/cf11b026211a14ae41613d83850f2a62?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/atk","login":"atk","id":220405},"url":"https://api.github.com/gists/1084501/daede5d04359881493ed353cdb9d54ef4c89744e","committed_at":"2011-07-18T15:58:45Z","change_status":{"deletions":1,"additions":1,"total":2},"version":"daede5d04359881493ed353cdb9d54ef4c89744e"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/cf11b026211a14ae41613d83850f2a62?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/atk","login":"atk","id":220405},"url":"https://api.github.com/gists/1084501/0c72f127efd409b76f45413f3fee2e23c17415f9","committed_at":"2011-07-18T15:58:15Z","change_status":{"deletions":1,"additions":13,"total":14},"version":"0c72f127efd409b76f45413f3fee2e23c17415f9"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/cf11b026211a14ae41613d83850f2a62?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/atk","login":"atk","id":220405},"url":"https://api.github.com/gists/1084501/69dcc20a025519fb2d77370680e594ebca061f76","committed_at":"2011-07-15T11:29:31Z","change_status":{"deletions":18,"additions":18,"total":36},"version":"69dcc20a025519fb2d77370680e594ebca061f76"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/cf11b026211a14ae41613d83850f2a62?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/atk","login":"atk","id":220405},"url":"https://api.github.com/gists/1084501/32b4d4df9f3cb79e63197257b9b405b856aa77f8","committed_at":"2011-07-15T11:28:01Z","change_status":{"deletions":51,"additions":65,"total":116},"version":"32b4d4df9f3cb79e63197257b9b405b856aa77f8"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1084501/97b4f64048ad388d12e0473b416d7e4893391f50","committed_at":"2011-06-01T13:42:07Z","change_status":{"deletions":7,"additions":5,"total":12},"version":"97b4f64048ad388d12e0473b416d7e4893391f50"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1084501/df573b0569cc36550aa73fa9244286f24823fbb9","committed_at":"2011-06-01T12:27:17Z","change_status":{"deletions":0,"additions":1,"total":1},"version":"df573b0569cc36550aa73fa9244286f24823fbb9"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1084501/2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","committed_at":"2011-05-31T22:34:03Z","change_status":{"deletions":1,"additions":1,"total":2},"version":"2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1084501/cb7ce28cbcfb095a319f290d0632332f22d90c72","committed_at":"2011-05-31T18:15:34Z","change_status":{"deletions":0,"additions":13,"total":13},"version":"cb7ce28cbcfb095a319f290d0632332f22d90c72"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1084501/a1fcbcb83329294f8afe9b71c132790e0c1f7d8b","committed_at":"2011-05-31T18:10:31Z","change_status":{"deletions":19,"additions":17,"total":36},"version":"a1fcbcb83329294f8afe9b71c132790e0c1f7d8b"},{"user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","login":"140bytes","id":777161},"url":"https://api.github.com/gists/1084501/e69917d0323336a4cb552f60484b73c09eb538ee","committed_at":"2011-05-26T16:25:15Z","change_status":{"deletions":6,"additions":6,"total":12},"version":"e69917d0323336a4cb552f60484b73c09eb538ee"}],"html_url":"https://gist.github.com/1084501","git_pull_url":"git://gist.github.com/1084501.git","git_push_url":"git@gist.github.com:1084501.git","id":"1084501","updated_at":"2011-07-15T11:28:01Z","created_at":"2011-07-15T11:15:36Z"}