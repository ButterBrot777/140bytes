{"description":"Detect Doctype","created_at":"2011-12-11T14:13:51Z","git_push_url":"git@gist.github.com:1460798.git","html_url":"https://gist.github.com/1460798","fork_of":{"description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","created_at":"2011-05-09T16:13:35Z","git_push_url":"git@gist.github.com:962807.git","html_url":"https://gist.github.com/962807","files":{"annotated.js":{"type":"application/javascript","raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","size":396,"filename":"annotated.js","language":"JavaScript"},"LICENSE.txt":{"type":"text/plain","raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","size":483,"filename":"LICENSE.txt","language":"Text"},"README.md":{"type":"text/plain","raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","size":1457,"filename":"README.md","language":"Markdown"},"index.js":{"type":"application/javascript","raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","size":140,"filename":"index.js","language":"JavaScript"},"test.html":{"type":"text/html","raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","size":393,"filename":"test.html","language":"HTML"},"package.json":{"type":"application/json","raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","size":241,"filename":"package.json","language":"JSON"}},"public":true,"user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"comments":51,"updated_at":"2011-05-18T12:15:41Z","git_pull_url":"git://gist.github.com/962807.git","id":"962807","url":"https://api.github.com/gists/962807"},"forks":[],"files":{"annotated.js":{"content":"function(\n  a,b                             // Placeholders\n  ){\n with(document.doctype)           // To save referencing it each time\n  return '<!DOCTYPE '             // Making an assumption that the doctype starts with this.\n    + name                        // Usually 'html'\n    + ((b=publicId,a=systemId)     // Shorthand references, return value is systemId so we can test if there is a system definition\n     ?                             //  Then\n      (b                           //   If this is a public standard\n       ?                           //    Then\n        ' PUBLIC \"'+b+'\" '         //     Write the type as \"PUBLIC\" and the ID\n       :                           //    Else\n         ' SYSTEM '                //     Write the type as \"SYSTEM\"\n      )\n      + '\"'+a+'\"'                  //   Add on the system ID\n     :                             //    Else\n      ''                           //     Write nothing\n    )\n    +'>'                           // ...and done.\n}\n","type":"application/javascript","raw_url":"https://gist.github.com/raw/1460798/33d7967fdd9dbfbc77064c37675d63503fef2beb/annotated.js","size":996,"filename":"annotated.js","language":"JavaScript"},"LICENSE.txt":{"content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2011 Simon Madine <http://thingsinjars.com>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.","type":"text/plain","raw_url":"https://gist.github.com/raw/1460798/96a41fe61b34ba82ec0f3830f3a7a9b04b2f6d67/LICENSE.txt","size":491,"filename":"LICENSE.txt","language":"Text"},"index.js":{"content":"function(a,b){with(document.doctype)return'<!DOCTYPE '+name+((b=publicId,a=systemId)?(b?' PUBLIC \"'+b+'\" ':' SYSTEM ')+'\"'+a+'\"':'')+'>'}","type":"application/javascript","raw_url":"https://gist.github.com/raw/1460798/57b3c63f4a9d6253ffea70823e5c49cb6ae2fd70/index.js","size":137,"filename":"index.js","language":"JavaScript"},"test.html":{"content":"<!DOCTYPE html>\n<title>Foo</title>\n<div>Expected value: <b>&lt;!DOCTYPE html&gt;</b></div>\n<div>Actual value: <b id=\"ret\"></b></div>\n<script>\n  var myFunction = function(a,b){with(document.doctype)return'<!DOCTYPE '+name+((b=publicId,a=systemId)?(b?' PUBLIC \"'+b+'\" ':' SYSTEM ')+'\"'+a+'\"':'')+'>'}\n\n  document.getElementById( \"ret\" ).innerHTML = new Option(myFunction()).innerHTML //Borrowed from @jed's escapeHTML (https://gist.github.com/964847)\n</script>","type":"text/html","raw_url":"https://gist.github.com/raw/1460798/cb29df5bd1946eba0773bfc670a3e8ddbd749ba1/test.html","size":458,"filename":"test.html","language":"HTML"},"package.json":{"content":"{\n  \"name\": \"Detect Doctype\",\n\n  \"description\": \"Returns the doctype of the current page\",\n\n  \"keywords\": [\n    \"html\",\n    \"doctype\"\n  ]\n}","type":"application/json","raw_url":"https://gist.github.com/raw/1460798/e13f237bb9751ec4bd02f909178d174af36719fb/package.json","size":139,"filename":"package.json","language":"JSON"}},"public":true,"user":{"gravatar_id":"9519dfb4fc9300b32fbce7ce91f2375e","url":"https://api.github.com/users/thingsinjars","avatar_url":"https://secure.gravatar.com/avatar/9519dfb4fc9300b32fbce7ce91f2375e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":147663,"login":"thingsinjars"},"comments":5,"history":[{"change_status":{"additions":18,"total":37,"deletions":19},"user":null,"version":"4c3606a9dab73da63eb782db701003a6bf496ed2","committed_at":"2011-12-12T09:27:55Z","url":"https://api.github.com/gists/1460798/4c3606a9dab73da63eb782db701003a6bf496ed2"},{"change_status":{"additions":19,"total":33,"deletions":14},"user":{"gravatar_id":"9519dfb4fc9300b32fbce7ce91f2375e","url":"https://api.github.com/users/thingsinjars","avatar_url":"https://secure.gravatar.com/avatar/9519dfb4fc9300b32fbce7ce91f2375e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":147663,"login":"thingsinjars"},"version":"ff5518f946d9f50fa14ec5dd75120b01cb44c762","committed_at":"2011-12-11T18:13:26Z","url":"https://api.github.com/gists/1460798/ff5518f946d9f50fa14ec5dd75120b01cb44c762"},{"change_status":{"additions":1,"total":2,"deletions":1},"user":{"gravatar_id":"9519dfb4fc9300b32fbce7ce91f2375e","url":"https://api.github.com/users/thingsinjars","avatar_url":"https://secure.gravatar.com/avatar/9519dfb4fc9300b32fbce7ce91f2375e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":147663,"login":"thingsinjars"},"version":"16c6de510ffdc5f91a1673c9f7f149b6876b41a2","committed_at":"2011-12-11T14:49:54Z","url":"https://api.github.com/gists/1460798/16c6de510ffdc5f91a1673c9f7f149b6876b41a2"},{"change_status":{"additions":1,"total":34,"deletions":33},"user":{"gravatar_id":"9519dfb4fc9300b32fbce7ce91f2375e","url":"https://api.github.com/users/thingsinjars","avatar_url":"https://secure.gravatar.com/avatar/9519dfb4fc9300b32fbce7ce91f2375e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":147663,"login":"thingsinjars"},"version":"b448a605157c6e02355796ead0ab95a1efe7e6b8","committed_at":"2011-12-11T14:48:36Z","url":"https://api.github.com/gists/1460798/b448a605157c6e02355796ead0ab95a1efe7e6b8"},{"change_status":{"additions":18,"total":36,"deletions":18},"user":{"gravatar_id":"9519dfb4fc9300b32fbce7ce91f2375e","url":"https://api.github.com/users/thingsinjars","avatar_url":"https://secure.gravatar.com/avatar/9519dfb4fc9300b32fbce7ce91f2375e?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":147663,"login":"thingsinjars"},"version":"419b4e33a9635113732e18aea95442afd70784a5","committed_at":"2011-12-11T14:22:16Z","url":"https://api.github.com/gists/1460798/419b4e33a9635113732e18aea95442afd70784a5"},{"change_status":{"additions":1,"total":2,"deletions":1},"user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"version":"96ff24cc4f871061134de4188fa24cf4b53d3986","committed_at":"2011-07-28T06:44:45Z","url":"https://api.github.com/gists/1460798/96ff24cc4f871061134de4188fa24cf4b53d3986"},{"change_status":{"additions":2,"total":4,"deletions":2},"user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"version":"1e1c7df97b55fe8f1543433a83d0e76a4a575055","committed_at":"2011-07-28T06:44:14Z","url":"https://api.github.com/gists/1460798/1e1c7df97b55fe8f1543433a83d0e76a4a575055"},{"change_status":{"additions":5,"total":12,"deletions":7},"user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"version":"97b4f64048ad388d12e0473b416d7e4893391f50","committed_at":"2011-06-01T13:42:07Z","url":"https://api.github.com/gists/1460798/97b4f64048ad388d12e0473b416d7e4893391f50"},{"change_status":{"additions":1,"total":1,"deletions":0},"user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"version":"df573b0569cc36550aa73fa9244286f24823fbb9","committed_at":"2011-06-01T12:27:17Z","url":"https://api.github.com/gists/1460798/df573b0569cc36550aa73fa9244286f24823fbb9"},{"change_status":{"additions":1,"total":2,"deletions":1},"user":{"gravatar_id":"53e21508b6995fa42f2e034b87daa901","url":"https://api.github.com/users/140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161,"login":"140bytes"},"version":"2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","committed_at":"2011-05-31T22:34:03Z","url":"https://api.github.com/gists/1460798/2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca"}],"updated_at":"2011-12-13T19:50:45Z","git_pull_url":"git://gist.github.com/1460798.git","id":"1460798","url":"https://api.github.com/gists/1460798"}