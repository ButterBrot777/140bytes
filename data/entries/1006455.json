{"forks":[],"files":{"annotated.js":{"content":"function(){ /* outer function */\n\t/* Defining vars in usual way. We need arguments unchanged */\n\t/* Each time function is called it has new scope, so we don't have to worry about interference */\n\tvar\n\t\ta=0, /* average */\n\t\tc=0, /* count of items */\n\t\ti,   /* to-be iterator in inner func */\n\t\tu,   /* to-be arguments alias in inner func */\n\t\tn = function(){ /* inner function */\n\t\t\tfor(\n\t\t\t\t/* Store arguments (very long var name!) into u */\n\t\t\t\t/* Then i is count of arguments passed */\n\t\t\t\ti=(u=arguments).length;\n\t\t\t\t/* And right after that i is length-1, i.e. max argument index */\n\t\t\t\t/* Note post-decrement */\n\t\t\t\ti--;\n\t\t\t\t/* Empty block */\n\t\t\t/* Appending new item, incrementing count */\n\t\t\t/* Note the pre-increment */\n\t\t\t) a = (u[i] + a * c) / ++c;\n\t\t\t/* Return the average primitive if func is called as a method of itself */\n\t\t\t/* Return the func itself otherwise */\n\t\t\t/* Comments follows */\n\t\t\treturn n==this ? a : n\n\t\t};\n\t/* Passing thru arguments to inner function. Use random garbage as this. */\n\t/* It will return itself, so this is the same as n.toString=n; return n.apply({},arguments) */\n\t/* Then - a trick! - make inner func's toString method is the inner func itself */\n\t/* so we can check this to tell if func is called as toString */\n\t/* (toString method is called implicitly when converting object into primitive) */\n\treturn n.toString=n.apply({},arguments)\n\t/* And finally return the inner function */\n}","size":1429,"raw_url":"https://gist.github.com/raw/1006455/8f9c9cae6c372b4e060a41cd175e7f1b7e1ba21b/annotated.js","filename":"annotated.js"},"LICENSE.txt":{"content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2011 YOUR_NAME_HERE <YOUR_URL_HERE>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.","size":483,"raw_url":"https://gist.github.com/raw/1006455/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","filename":"LICENSE.txt"},"README.md":{"content":"Chaining average\n=========\n\nThe averaging function itself is not such interesting. This is a demo of chaining, «this» and duck typing magic.\nFunction gets arbitrary number of arguments and returns a function that gets arbitrary number of arguments that… etc. Until cast into number or string is happened, then it returns the average value of all arguments supplied.\n\n137 bytes between { and }.\n\nExample\n---------\n```\nvar avg = function(){/** code in index.js **/};\nvar average = avg(1).apply(this,[2,3,4])(5,6)()(7);\nalert(average); /* \"4\" as in average of 1, 2, 3, 4, 5, 6 and 7 */\n```","size":590,"raw_url":"https://gist.github.com/raw/1006455/b414ed17f11168c8897ee84704f2ba2b0f4d271c/README.md","filename":"README.md"},"index.js":{"content":"function(){var a=0,c=0,i,u,n=function(){for(i=(u=arguments).length;i--;)a=(u[i]+a*c)/++c;return n==this?a:n};return n.toString=n.apply({},arguments)}","size":149,"raw_url":"https://gist.github.com/raw/1006455/392edd11e4698ed9e53ca19f68b6a5086118526e/index.js","filename":"index.js"},"test.html":{"content":"<!DOCTYPE html> \n<title>Foo</title>\n<div>Expected value: <b>4</b></div>\n<div>Actual value: <b id=\"ret\"></b></div>\n<script>\n  // write a small example that shows off the API for your example\n  // and tests it in one fell swoop.\n\n  var myFunction = function(){var a=0,c=0,i,u,n=function(){for(i=(u=arguments).length;i--;)a=(u[i]+a*c)/++c;return n==this?a:n};return n.toString=n.apply({},arguments)}\n\n  document.getElementById( \"ret\" ).innerHTML = myFunction(1).apply(this,[2,3,4])(5,6)()(7)\n</script>","size":498,"raw_url":"https://gist.github.com/raw/1006455/b8da27b5d534e9c4117a4e520467fed783c0d10e/test.html","filename":"test.html"},"package.json":{"content":"{\n  \"name\": \"chainingAverage\",\n\n  \"description\": \"Returns average of multiple numbers in a bizarre way\",\n\n  \"keywords\": [\n    \"chaining\",\n    \"average\",\n    \"this\"\n  ]\n}","size":169,"raw_url":"https://gist.github.com/raw/1006455/0cd83521937c59637cb3d45d8026c6d415d0e2e6/package.json","filename":"package.json"}},"user":{"url":"https://api.github.com/users/subzey","login":"subzey","avatar_url":"https://secure.gravatar.com/avatar/ac8a5e8739b75bda6567a4630b91dd82?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":810582},"html_url":"https://gist.github.com/1006455","url":"https://api.github.com/gists/1006455","description":"chaining average","public":true,"comments":6,"history":[{"user":{"url":"https://api.github.com/users/subzey","login":"subzey","avatar_url":"https://secure.gravatar.com/avatar/ac8a5e8739b75bda6567a4630b91dd82?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":810582},"url":"https://api.github.com/gists/1006455/c89bd71fc7ff6f7016c2c1f174054887d0d1ca70","change_status":{"deletions":3,"additions":3,"total":6},"committed_at":"2011-06-04T10:58:38Z","version":"c89bd71fc7ff6f7016c2c1f174054887d0d1ca70"},{"user":{"url":"https://api.github.com/users/subzey","login":"subzey","avatar_url":"https://secure.gravatar.com/avatar/ac8a5e8739b75bda6567a4630b91dd82?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":810582},"url":"https://api.github.com/gists/1006455/9c8a0fd88512533f9e6d32307a23e1ca772a3592","change_status":{"deletions":3,"additions":3,"total":6},"committed_at":"2011-06-04T10:48:42Z","version":"9c8a0fd88512533f9e6d32307a23e1ca772a3592"},{"user":{"url":"https://api.github.com/users/subzey","login":"subzey","avatar_url":"https://secure.gravatar.com/avatar/ac8a5e8739b75bda6567a4630b91dd82?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":810582},"url":"https://api.github.com/gists/1006455/2cce0a0f6d96edcebdc8dc98586ef1bbe6f73ac9","change_status":{"deletions":1,"additions":1,"total":2},"committed_at":"2011-06-03T15:14:50Z","version":"2cce0a0f6d96edcebdc8dc98586ef1bbe6f73ac9"},{"user":{"url":"https://api.github.com/users/subzey","login":"subzey","avatar_url":"https://secure.gravatar.com/avatar/ac8a5e8739b75bda6567a4630b91dd82?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":810582},"url":"https://api.github.com/gists/1006455/5b66b638606a21d599280be5cc247d08d41363f5","change_status":{"deletions":1,"additions":1,"total":2},"committed_at":"2011-06-03T15:14:18Z","version":"5b66b638606a21d599280be5cc247d08d41363f5"},{"user":{"url":"https://api.github.com/users/subzey","login":"subzey","avatar_url":"https://secure.gravatar.com/avatar/ac8a5e8739b75bda6567a4630b91dd82?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":810582},"url":"https://api.github.com/gists/1006455/d4530f436fb9493c8d8d8118ecbd76d832c46249","change_status":{"deletions":48,"additions":52,"total":100},"committed_at":"2011-06-03T15:12:41Z","version":"d4530f436fb9493c8d8d8118ecbd76d832c46249"},{"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"url":"https://api.github.com/gists/1006455/97b4f64048ad388d12e0473b416d7e4893391f50","change_status":{"deletions":7,"additions":5,"total":12},"committed_at":"2011-06-01T13:42:07Z","version":"97b4f64048ad388d12e0473b416d7e4893391f50"},{"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"url":"https://api.github.com/gists/1006455/df573b0569cc36550aa73fa9244286f24823fbb9","change_status":{"deletions":0,"additions":1,"total":1},"committed_at":"2011-06-01T12:27:17Z","version":"df573b0569cc36550aa73fa9244286f24823fbb9"},{"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"url":"https://api.github.com/gists/1006455/2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","change_status":{"deletions":1,"additions":1,"total":2},"committed_at":"2011-05-31T22:34:03Z","version":"2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca"},{"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"url":"https://api.github.com/gists/1006455/cb7ce28cbcfb095a319f290d0632332f22d90c72","change_status":{"deletions":0,"additions":13,"total":13},"committed_at":"2011-05-31T18:15:34Z","version":"cb7ce28cbcfb095a319f290d0632332f22d90c72"},{"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"url":"https://api.github.com/gists/1006455/a1fcbcb83329294f8afe9b71c132790e0c1f7d8b","change_status":{"deletions":19,"additions":17,"total":36},"committed_at":"2011-05-31T18:10:31Z","version":"a1fcbcb83329294f8afe9b71c132790e0c1f7d8b"}],"git_pull_url":"git://gist.github.com/1006455.git","git_push_url":"git@gist.github.com:1006455.git","id":"1006455","fork_of":{"files":{"annotated.js":{"size":396,"raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","filename":"annotated.js"},"LICENSE.txt":{"size":483,"raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","filename":"LICENSE.txt"},"README.md":{"size":1457,"raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","filename":"README.md"},"index.js":{"size":140,"raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","filename":"index.js"},"test.html":{"size":393,"raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","filename":"test.html"},"package.json":{"size":241,"raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","filename":"package.json"}},"user":{"url":"https://api.github.com/users/140bytes","login":"140bytes","avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","id":777161},"html_url":"https://gist.github.com/962807","url":"https://api.github.com/gists/962807","description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","public":true,"comments":45,"git_pull_url":"git://gist.github.com/962807.git","git_push_url":"git@gist.github.com:962807.git","id":"962807","updated_at":"2011-05-18T12:15:41Z","created_at":"2011-05-09T16:13:35Z"},"updated_at":"2011-06-03T15:12:41Z","created_at":"2011-06-03T14:51:22Z"}