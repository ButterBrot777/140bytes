{"updated_at":"2011-10-14T05:23:13Z","git_pull_url":"git://gist.github.com/1286278.git","description":"Signals in JS","public":true,"url":"https://api.github.com/gists/1286278","git_push_url":"git@gist.github.com:1286278.git","created_at":"2011-10-14T04:51:22Z","fork_of":{"updated_at":"2011-05-18T12:15:41Z","git_pull_url":"git://gist.github.com/962807.git","description":"140byt.es -- Click ↑↑ fork ↑↑ to play!","public":true,"url":"https://api.github.com/gists/962807","git_push_url":"git@gist.github.com:962807.git","created_at":"2011-05-09T16:13:35Z","comments":51,"html_url":"https://gist.github.com/962807","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","login":"140bytes","id":777161},"files":{"annotated.js":{"raw_url":"https://gist.github.com/raw/962807/cd5c9947f41abdfd608a8995e02ba4a160bb2a08/annotated.js","size":396,"filename":"annotated.js"},"LICENSE.txt":{"raw_url":"https://gist.github.com/raw/962807/dfb480a5038214d152544bddb412dfe2e8656413/LICENSE.txt","size":483,"filename":"LICENSE.txt"},"README.md":{"raw_url":"https://gist.github.com/raw/962807/6832f0d91100cdb4373f2cfd42e12fc06532eac9/README.md","size":1457,"filename":"README.md"},"index.js":{"raw_url":"https://gist.github.com/raw/962807/c89ef021071af3b78eea79bcf0288a6e7873a62e/index.js","size":140,"filename":"index.js"},"test.html":{"raw_url":"https://gist.github.com/raw/962807/22ac2a8244f3a1fd650faf81dfdde9cbae7453e5/test.html","size":393,"filename":"test.html"},"package.json":{"raw_url":"https://gist.github.com/raw/962807/323b4aaa685a2bf7b15abdeed2fe03e11d63859f/package.json","size":241,"filename":"package.json"}},"id":"962807"},"comments":0,"html_url":"https://gist.github.com/1286278","forks":[],"user":{"avatar_url":"https://secure.gravatar.com/avatar/4b138a56fa1e625a8b59a128519c7b64?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/kirbysayshi","gravatar_id":"4b138a56fa1e625a8b59a128519c7b64","login":"kirbysayshi","id":90831},"files":{"annotated.js":{"raw_url":"https://gist.github.com/raw/1286278/630b7636ac0b54763e2ed90488e2ff243b238263/annotated.js","content":"function(\n    a,          // placeholder\n    b,          // placeholder\n    c           // placeholder\n){\n    return {                        // return an object\n         s: a = []                  // s stands for 'slots', initialize a to empty array (slots)\n        ,d: function(){             // d stands for 'dispatch', and accepts an arbitrary number of args\n            for(\n                c = a.slice();      // copy the array of slots\n                b = c.pop();        // loop until c.pop() returns undefined, unfortunately in reverse order\n            )\n            b.apply(this,arguments) // b is a slot, apply the args\n        }\n        ,r: function(c){            // r stands for 'remove', accepts a single slot (function) to remove\n            a.splice(               // splice the list of slots\n                a.indexOf(c),       // matching the passed slot's index \n            1)                      // and remove that element\n        }\n    }\n}","size":964,"filename":"annotated.js"},"LICENSE.txt":{"raw_url":"https://gist.github.com/raw/1286278/ea5cbf013b142d0c8d48d47318c03e093b17014b/LICENSE.txt","content":"            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2011 Andrew Petersen <http://kirbysayshi.github.com>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.","size":500,"filename":"LICENSE.txt"},"README.md":{"raw_url":"https://gist.github.com/raw/1286278/720dedf571ed6e3633191a48748bbcb030e2dcd6/README.md","content":"Signal\n======\n\nSignals allow an event to be dispatched to listening slots, without using a global object and without using strings for event names. For more information, see [js-signals](http://millermedeiros.github.com/js-signals/), which this is mostly based on. Typically, signals are named in the past tense, and can pass arbitrary arguments to the listening slots.\n","size":370,"filename":"README.md"},"index.js":{"raw_url":"https://gist.github.com/raw/1286278/ef8477b2f72c78341922ff91b56557b4c7ffadef/index.js","content":"function(a,b,c){return{s:a=[],d:function(){for(c=a.slice();b=c.pop();)b.apply(this,arguments)},r:function(c){a.splice(a.indexOf(c),1)}}}","size":136,"filename":"index.js"},"test.html":{"raw_url":"https://gist.github.com/raw/1286278/3eaad9b939a400fba52f34d69ebfdf97a5564403/test.html","content":"<!DOCTYPE html> \n<title>Foo</title>\n<div>Expected value: <b><br />what it was: bigfoot sasquatch [object Window]<br/>what it was bigfoot [object Object]</b></div>\n<div>Actual value: <br /><b id=\"ret\"></b></div>\n<script>\nvar Signal = function(a,b,c){return{s:a=[],d:function(){for(c=a.slice();b=c.pop();)b.apply(this,arguments)},r:function(c){a.splice(a.indexOf(b),1)}}}\n\n\nvar Something = function(){\n        this.wasHere = Signal();\n    \n        this.move = function(){\n            this.wasHere.d('bigfoot', 'sasquatch'); // d for dispatch!\n        }\n        \n    }\n\n    // a slot is just a callback\n    ,what = function(wasIt){\n        // 'this' will be the signal obj itself\n        document.getElementById( \"ret\" ).innerHTML\n            += 'what it was: '\n            + wasIt + ' ' + this + '<br />';\n    }\n\n    ,scope = (function(wasIt, sas){\n        // 'this' will be the global obj\n        document.getElementById( \"ret\" ).innerHTML\n            += 'what it was: '\n            + wasIt + ' ' + sas + ' ' + this + '<br />';\n    }).bind(this)\n\nvar s = new Something();\n\ns.wasHere.s.push(what); // add 'what' as a slot in the wasHere signal\ns.wasHere.s.push(scope); // add 'scope' as a slot in the wasHere signal\ns.move(); // this signals the slots in reverse order\n</script>","size":1276,"filename":"test.html"},"package.json":{"raw_url":"https://gist.github.com/raw/1286278/9309e0e5e50861eb8a7fb0923801c6278fb4191b/package.json","content":"{\n  \"name\": \"signal\",\n\n  \"description\": \"A signal, for named event properties\",\n\n  \"keywords\": [\n    \"signal\",\n    \"event\",\n    \"emitter\",\n    \"slot\"\n  ]\n}","size":155,"filename":"package.json"}},"id":"1286278","history":[{"committed_at":"2011-10-14T18:20:39Z","change_status":{"deletions":1,"additions":1,"total":2},"url":"https://api.github.com/gists/1286278/9cd0189d4cf4f8095812ca46ecae950d3e9b56a5","version":"9cd0189d4cf4f8095812ca46ecae950d3e9b56a5","user":{"avatar_url":"https://secure.gravatar.com/avatar/4b138a56fa1e625a8b59a128519c7b64?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/kirbysayshi","gravatar_id":"4b138a56fa1e625a8b59a128519c7b64","login":"kirbysayshi","id":90831}},{"committed_at":"2011-10-14T05:25:44Z","change_status":{"deletions":1,"additions":1,"total":2},"url":"https://api.github.com/gists/1286278/1defe4c861bc1d8ef6cd5bbee6139d8c3cb43add","version":"1defe4c861bc1d8ef6cd5bbee6139d8c3cb43add","user":{"avatar_url":"https://secure.gravatar.com/avatar/4b138a56fa1e625a8b59a128519c7b64?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/kirbysayshi","gravatar_id":"4b138a56fa1e625a8b59a128519c7b64","login":"kirbysayshi","id":90831}},{"committed_at":"2011-10-14T05:24:54Z","change_status":{"deletions":3,"additions":3,"total":6},"url":"https://api.github.com/gists/1286278/2f6c578f033f235445a09446730d1e917d3fd9ef","version":"2f6c578f033f235445a09446730d1e917d3fd9ef","user":{"avatar_url":"https://secure.gravatar.com/avatar/4b138a56fa1e625a8b59a128519c7b64?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/kirbysayshi","gravatar_id":"4b138a56fa1e625a8b59a128519c7b64","login":"kirbysayshi","id":90831}},{"committed_at":"2011-10-14T05:23:13Z","change_status":{"deletions":54,"additions":62,"total":116},"url":"https://api.github.com/gists/1286278/9f7aa85c78b88aca638fa838998e5e3d201dfb65","version":"9f7aa85c78b88aca638fa838998e5e3d201dfb65","user":{"avatar_url":"https://secure.gravatar.com/avatar/4b138a56fa1e625a8b59a128519c7b64?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/kirbysayshi","gravatar_id":"4b138a56fa1e625a8b59a128519c7b64","login":"kirbysayshi","id":90831}},{"committed_at":"2011-07-28T06:44:45Z","change_status":{"deletions":1,"additions":1,"total":2},"url":"https://api.github.com/gists/1286278/96ff24cc4f871061134de4188fa24cf4b53d3986","version":"96ff24cc4f871061134de4188fa24cf4b53d3986","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","login":"140bytes","id":777161}},{"committed_at":"2011-07-28T06:44:14Z","change_status":{"deletions":2,"additions":2,"total":4},"url":"https://api.github.com/gists/1286278/1e1c7df97b55fe8f1543433a83d0e76a4a575055","version":"1e1c7df97b55fe8f1543433a83d0e76a4a575055","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","login":"140bytes","id":777161}},{"committed_at":"2011-06-01T13:42:07Z","change_status":{"deletions":7,"additions":5,"total":12},"url":"https://api.github.com/gists/1286278/97b4f64048ad388d12e0473b416d7e4893391f50","version":"97b4f64048ad388d12e0473b416d7e4893391f50","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","login":"140bytes","id":777161}},{"committed_at":"2011-06-01T12:27:17Z","change_status":{"deletions":0,"additions":1,"total":1},"url":"https://api.github.com/gists/1286278/df573b0569cc36550aa73fa9244286f24823fbb9","version":"df573b0569cc36550aa73fa9244286f24823fbb9","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","login":"140bytes","id":777161}},{"committed_at":"2011-05-31T22:34:03Z","change_status":{"deletions":1,"additions":1,"total":2},"url":"https://api.github.com/gists/1286278/2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","version":"2da28b4a103c6a4ca00d4d0fa808ee258b5d6eca","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","login":"140bytes","id":777161}},{"committed_at":"2011-05-31T18:15:34Z","change_status":{"deletions":0,"additions":13,"total":13},"url":"https://api.github.com/gists/1286278/cb7ce28cbcfb095a319f290d0632332f22d90c72","version":"cb7ce28cbcfb095a319f290d0632332f22d90c72","user":{"avatar_url":"https://secure.gravatar.com/avatar/53e21508b6995fa42f2e034b87daa901?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png","url":"https://api.github.com/users/140bytes","gravatar_id":"53e21508b6995fa42f2e034b87daa901","login":"140bytes","id":777161}}]}